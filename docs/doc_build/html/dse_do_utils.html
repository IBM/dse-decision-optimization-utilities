

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>dse_do_utils package &#8212; DSE DO Utils 0.5.4.5b2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="dse_do_utils" href="modules.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="dse_do_utils"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DSE DO Utils 0.5.4.5b2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">dse_do_utils</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">dse_do_utils package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="dse-do-utils-package">
<h1>dse_do_utils package<a class="headerlink" href="#dse-do-utils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dse_do_utils.cpd25utilities">
<span id="dse-do-utils-cpd25utilities-module"></span><h2>dse_do_utils.cpd25utilities module<a class="headerlink" href="#module-dse_do_utils.cpd25utilities" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dse_do_utils.cpd25utilities.add_file_as_data_asset_cpd25">
<span class="sig-prename descclassname"><span class="pre">dse_do_utils.cpd25utilities.</span></span><span class="sig-name descname"><span class="pre">add_file_as_data_asset_cpd25</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/cpd25utilities.html#add_file_as_data_asset_cpd25"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.cpd25utilities.add_file_as_data_asset_cpd25" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a file located in <cite>/project_data/data_asset/</cite> as a Data Asset to the Watson Studio project.
So that it appears in the UI and can be exported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> (<em>str</em>) – name of file, including extension</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dse_do_utils.cpd25utilities.add_file_path_as_data_asset_cpd25">
<span class="sig-prename descclassname"><span class="pre">dse_do_utils.cpd25utilities.</span></span><span class="sig-name descname"><span class="pre">add_file_path_as_data_asset_cpd25</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/cpd25utilities.html#add_file_path_as_data_asset_cpd25"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.cpd25utilities.add_file_path_as_data_asset_cpd25" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a data file to the Watson Studio project.
Applies to CPDv2.5. Works for any file. Allows the file to be viewed and downloaded from Watson Studio UI.
Needs to be called after the file has been saved regularly in the file system.
Typically, that would be in <cite>/project_data/data_asset/</cite>.
Ensures the file is visible in the Data Assets of the Watson Studio UI.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Write some file as an example:</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;/project_data/data_asset/myfile.csv&#39;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w+&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
     <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span>
<span class="c1"># Add file as a data asset:</span>
<span class="n">add_file_as_data_asset_cpd25</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Beware that the same data now exists in 2 different places:</dt><dd><ul class="simple">
<li><p>In the Cloud Object Storage (COS)</p></li>
<li><p>As a file in <cite>/project_data/data_asset/</cite></p></li>
</ul>
</dd>
</dl>
<p>Changing any of the 2 independently can cause inconsistencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – full file path, including the file name and extension</p></li>
<li><p><strong>asset_name</strong> (<em>str</em>) – name of data asset. Default is None. If None, the asset_name will be extracted from the file_path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dse_do_utils.cpd25utilities.add_file_path_as_data_asset_wsc">
<span class="sig-prename descclassname"><span class="pre">dse_do_utils.cpd25utilities.</span></span><span class="sig-name descname"><span class="pre">add_file_path_as_data_asset_wsc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/cpd25utilities.html#add_file_path_as_data_asset_wsc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.cpd25utilities.add_file_path_as_data_asset_wsc" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a data file to the Watson Studio project.
Applies to WS Cloud and CPDv2.5. Works for any file. Allows the file to be viewed and downloaded from Watson Studio UI.
Needs to be called after the file has been saved regularly in the file system.
Typically, that would be in:</p>
<blockquote>
<div><ul class="simple">
<li><p>CPDv2.5: <cite>/project_data/data_asset/</cite></p></li>
<li><p>WS Cloud: <cite>/home/dsxuser/work/</cite>, or <cite>os.environ[‘PWD’]</cite>, or <cite>./</cite>, or no path</p></li>
</ul>
</div></blockquote>
<p>Ensures the file is visible in the Data Assets of the Watson Studio UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> (<em>project_lib.Project</em>) – required for WS Cloud</p></li>
<li><p><strong>file_path</strong> (<em>str</em>) – full file path, including the file name and extension</p></li>
<li><p><strong>asset_name</strong> (<em>str</em>) – name of data asset. Default is None. If None, the asset_name will be extracted from the file_path.</p></li>
</ul>
</dd>
</dl>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Write some file as an example:</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;/project_data/data_asset/myfile.csv&#39;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w+&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
     <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span>
<span class="c1"># Add file as a data asset:</span>
<span class="n">add_file_as_data_asset_cpd25</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dse_do_utils.cpd25utilities.write_data_asset_as_file_cpd25">
<span class="sig-prename descclassname"><span class="pre">dse_do_utils.cpd25utilities.</span></span><span class="sig-name descname"><span class="pre">write_data_asset_as_file_cpd25</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'/project_data/data_asset/'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/cpd25utilities.html#write_data_asset_as_file_cpd25"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.cpd25utilities.write_data_asset_as_file_cpd25" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a named data asset to file.
Assumes a data asset with <cite>asset_name</cite> exists.
Makes the file accessible for things like:</p>
<blockquote>
<div><ul class="simple">
<li><p>Load from disk</p></li>
<li><p>Pip install</p></li>
<li><p>Module import</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset_name</strong> (<em>str</em>) – name of the asset</p></li>
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>Optional</em>) – Default is ‘/project_data/data_asset/’. Use path=’’ for current directory.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dse_do_utils.cpd25utilities.write_data_asset_as_file_wsc">
<span class="sig-prename descclassname"><span class="pre">dse_do_utils.cpd25utilities.</span></span><span class="sig-name descname"><span class="pre">write_data_asset_as_file_wsc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'/home/dsxuser/work/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/cpd25utilities.html#write_data_asset_as_file_wsc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.cpd25utilities.write_data_asset_as_file_wsc" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a named data asset to file (for WS Cloud).
Assumes a data asset with <cite>asset_name</cite> exists.
Makes the file accessible for things like:</p>
<blockquote>
<div><ul class="simple">
<li><p>Load from disk</p></li>
<li><p>Pip install</p></li>
<li><p>Module import</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset_name</strong> (<em>str</em>) – name of the asset</p></li>
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>Optional</em>) – Default (for WS Cloud) is ‘/home/dsxuser/work/’. Use path=’’ for current directory.</p></li>
<li><p><strong>project</strong> (<em>project_lib.Project</em>) – required for WS Cloud. For CPD, leave as None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.datamanager">
<span id="dse-do-utils-datamanager-module"></span><h2>dse_do_utils.datamanager module<a class="headerlink" href="#module-dse_do_utils.datamanager" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.datamanager.</span></span><span class="sig-name descname"><span class="pre">DataManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A DataManager is a container of original scenario and intermediate data.</p>
<p>It typically contains the input and output dictionaries with DataFrames that came from
or will be inserted into a DO scenario.
In addition it will hold any intermediate data.
It holds methods that operate on and convert the data.
When used in combination with an optimization engine, it should not contain the
docplex code that creates or interacts with the docplex Model. (That is the task of the OptimizationEngine.)</p>
<p>One of the reasons to separate the DataManager from the OptimizationEngine is to re-use the DataManager,
e.g. for output visualization notebooks.</p>
<dl class="simple">
<dt>A typical DataManager:</dt><dd><ul class="simple">
<li><p>Prepares the input DataFrames (like selecting and renaming columns and indexing) and assigns them to a direct attribute.</p></li>
<li><p>Contains a set of methods that create intermediate data (‘pre-processing’). Intermediate data will also be assigned as a direct member property.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.apply_and_concat">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">apply_and_concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.apply_and_concat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.apply_and_concat" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds multiple columns in one lambda apply function call.</p>
<p>Based on <a class="reference external" href="https://stackoverflow.com/questions/23690284/pandas-apply-function-that-returns-multiple-values-to-rows-in-pandas-dataframe">https://stackoverflow.com/questions/23690284/pandas-apply-function-that-returns-multiple-values-to-rows-in-pandas-dataframe</a></p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">my_input_value</span><span class="p">):</span>
    <span class="n">my_output_value_1</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">my_output_value_2</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">my_output_value1</span><span class="p">,</span> <span class="n">my_output_value_2</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">apply_and_concat</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;my_input_column_name&#39;</span><span class="p">,</span> <span class="n">my_function</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;my_output_column_name_1&#39;</span><span class="p">,</span><span class="s1">&#39;my_output_column_name_2&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>df should have the column ‘my_input_column_name’.
Result is that df will have 2 new columns: ‘my_output_column_name_1’ and ‘my_output_column_name_2’</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.2.2: </span>Same can be done with plain Pandas.</p>
</div>
<p>Alternative in plain Pandas:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;my_output_column_name_1&#39;</span><span class="p">,</span><span class="s1">&#39;my_output_column_name_2&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span> <span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">my_function</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">my_input_column_name</span><span class="p">)),</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataframe</strong> (<em>DataFrame</em>) – The DataFrame that the function is applied to</p></li>
<li><p><strong>field</strong> (<em>str</em>) – the name of the input data column of dataframe</p></li>
<li><p><strong>func</strong> – the function that will be applied. Should have one input argument and return a tuple with N elements.</p></li>
<li><p><strong>column_names</strong> (<em>list of str</em>) – The names of the N output columns. Should match the number of values in the function return tuple.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified dataframe with N new columns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.df_crossjoin_ai">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">df_crossjoin_ai</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.df_crossjoin_ai"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.df_crossjoin_ai" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-join ‘Any Index’
Make a cross join (cartesian product) between two dataframes by using a constant temporary key.
Accepts dataframes that are single or multi-indexed with named and un-named indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<em>DataFrame</em>) – </p></li>
<li><p><strong>df2</strong> (<em>DataFrame</em>) – </p></li>
<li><p><strong>pd.merge</strong><strong>(</strong><strong>)</strong> (<em>kwargs keyword arguments that will be passed to</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(DataFrame) cross join of df1 and df2</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.df_crossjoin_mi">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">df_crossjoin_mi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.df_crossjoin_mi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.df_crossjoin_mi" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a cross join (cartesian product) between two dataframes by using a constant temporary key.
Assumes both input dataframes have a (single or multi) index.
Returns a dataframe with a MultiIndex that is the cartesian product of the indices of the input dataframes.
Creates a named MultiIndex if both input dataframes have their indices named.
Otherwise will return an unnamed multi-index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<em>DataFrame</em>) – </p></li>
<li><p><strong>df2</strong> (<em>DataFrame</em>) – </p></li>
<li><p><strong>pd.merge</strong><strong>(</strong><strong>)</strong> (<em>kwargs keyword arguments that will be passed to</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(DataFrame) cross join of df1 and df2</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.df_crossjoin_si">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">df_crossjoin_si</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.df_crossjoin_si"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.df_crossjoin_si" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a cross join (cartesian product) between two dataframes by using a constant temporary key.
Assumes both input dataframes have a single index column.
Returns a dataframe with a MultiIndex that is the cartesian product of the indices of the input dataframes.
See: <a class="reference external" href="https://github.com/pydata/pandas/issues/5401">https://github.com/pydata/pandas/issues/5401</a>
See <a class="reference external" href="https://mkonrad.net/2016/04/16/cross-join--cartesian-product-between-pandas-dataframes.html">https://mkonrad.net/2016/04/16/cross-join–cartesian-product-between-pandas-dataframes.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<em>DataFrame</em>) – dataframe 1</p></li>
<li><p><strong>df2</strong> (<em>DataFrame</em>) – dataframe 2</p></li>
<li><p><strong>pd.merge</strong><strong>(</strong><strong>)</strong> (<em>kwargs keyword arguments that will be passed to</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(DataFrame) cross join of df1 and df2</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.extract_solution">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">extract_solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extract_dvar_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_column_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.extract_solution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.extract_solution" title="Permalink to this definition">¶</a></dt>
<dd><p>Generalized routine to extract a solution value.
Can remove the dvar column from the df to be able to have a clean df for export into scenario.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.get_parameter_value">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_parameter_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_type</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_format</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'%Y-%m-%d</span> <span class="pre">%H:%M:%S'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.get_parameter_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.get_parameter_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Get value of parameter from the parameter table (DataFrame).
Note that if the input table has a mix of data types in the value column, Pandas can change the data type of a
parameter depending on what other values are used in other rows.
This requires the explicit conversion to the expected data type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>indexed DataFrame with parameters</em>) – Index = ‘param’, value in ‘value’ column.</p></li>
<li><p><strong>param_name</strong> (<em>str</em>) – Name of parameter.</p></li>
<li><p><strong>param_type</strong> (<em>str</em>) – Type of parameter. Valid param_type values are int, float, str, bool, datetime.</p></li>
<li><p><strong>default_value</strong> – Value if param_name not in index.</p></li>
<li><p><strong>value_format</strong> (<em>str</em>) – Format for datetime conversion.</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.get_raw_table_by_name">
<span class="sig-name descname"><span class="pre">get_raw_table_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.get_raw_table_by_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.get_raw_table_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the ‘raw’ (non-indexed) table from inputs or outputs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.prep_parameters">
<span class="sig-name descname"><span class="pre">prep_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.prep_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.prep_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-process the Parameter(s) input table.
Assumes the inputs contains a table named <cite>Parameter</cite> or <cite>Parameters</cite> with key <cite>param</cite> and column <cite>value</cite>.
Otherwise, creates a blank DataFrame instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.prepare_data_frames">
<span class="sig-name descname"><span class="pre">prepare_data_frames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.prepare_data_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.prepare_data_frames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.prepare_input_data_frames">
<span class="sig-name descname"><span class="pre">prepare_input_data_frames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.prepare_input_data_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.prepare_input_data_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeholder to process input data frames, in particular to set the index and
to assign dataframes to a direct property of the DataManager.
Make sure to test if table-name exists in input dict so we can re-use this class in e.g.
DashEnterprise apps where not the whole scenario is loaded.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="s1">&#39;MyTable&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">my_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;MyTable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Id&#39;</span><span class="p">,</span> <span class="n">verify_integrity</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.prepare_output_data_frames">
<span class="sig-name descname"><span class="pre">prepare_output_data_frames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.prepare_output_data_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.prepare_output_data_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeholder to process output data frames.
Processes the default ‘kpis’ table.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.print_hello">
<span class="sig-name descname"><span class="pre">print_hello</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.print_hello"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.print_hello" title="Permalink to this definition">¶</a></dt>
<dd><p>FOR TESTING: Print some hello string.</p>
<p>Prints some message. To test reloading of the package from a notebook.
Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">In</span> <span class="n">notebook</span> <span class="n">cell</span> <span class="c1">#1)</span>
<span class="kn">from</span> <span class="nn">dse_do_utils</span> <span class="kn">import</span> <span class="n">DataManager</span>
<span class="n">dm</span> <span class="o">=</span> <span class="n">DataManager</span><span class="p">()</span>
<span class="p">(</span><span class="n">In</span> <span class="n">cell</span> <span class="c1">#2)</span>
<span class="n">dm</span><span class="o">.</span><span class="n">print_hello</span><span class="p">()</span>
</pre></div>
</div>
<p>Change the test of the string. Upload the module to WSL.
If testing autoreload, rerun the second cell only. Verify it prints the updated string.
If testing imp.reload, rerun the notebook from the start.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.print_inputs_outputs_summary">
<span class="sig-name descname"><span class="pre">print_inputs_outputs_summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.print_inputs_outputs_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.print_inputs_outputs_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a summary of the input and output data.
Prints the names of all input and output tables, along with the column names and the number of rows and columns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.datamanager.DataManager.set_parameters">
<span class="sig-name descname"><span class="pre">set_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/datamanager.html#DataManager.set_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.datamanager.DataManager.set_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters as properties of the self.param object.
This allows for easy access to the parameters, e.g. <cite>dm.param.time_limit</cite>
To be overridden. Make sure to call the <cite>super().set_parameters()</cite></p>
<p>Creates the self.param SimpleNamespace to be able to add the individual parameter properties.
Creates the self.params pd.DataFrame to be able to easily extract the parameter values.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.deployeddomodel">
<span id="dse-do-utils-deployeddomodel-module"></span><h2>dse_do_utils.deployeddomodel module<a class="headerlink" href="#module-dse_do_utils.deployeddomodel" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.deployeddomodel.</span></span><span class="sig-name descname"><span class="pre">DeployedDOModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wml_credentials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deployed_model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deployment_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_max_oaas_time_limit_sec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_max_run_time_sec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitor_loop_delay_sec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>New DeployedDOModel for CPD3.5 based on ibm_watson_machine_learning.APIClient</p>
<p>Major steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Create an instance of a DeployedDOModel, configuring parameters</p></li>
</ol>
</div></blockquote>
<p>Internally, the processes uses the APIClient (former WatsonMachineLearningAPIClient) to communicate with the deployed model:</p>
<blockquote>
<div><ol class="arabic simple" start="2">
<li><p>Start the solve job.</p></li>
<li><p>Monitor the running solve job. Runs in a loop, updates the current state.</p></li>
<li><p>Once the job completes, get the optimization result.</p></li>
</ol>
</div></blockquote>
<p>In the code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mdl</span><span class="o">.</span><span class="n">solve</span><span class="p">():</span>
    <span class="n">solve_payload</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_solve_payload</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>  <span class="c1"># Convert inputs to payload</span>
    <span class="n">job_details</span><span class="p">,</span> <span class="n">job_uid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_model</span><span class="p">(</span><span class="n">solve_payload</span><span class="p">)</span>
    <span class="n">job_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitor_execution</span><span class="p">(</span><span class="n">job_details</span><span class="p">,</span> <span class="n">job_uid</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extract_solution</span><span class="p">(</span><span class="n">job_details</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">job_details</span>
</pre></div>
</div>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Simplest, using all default options:</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">DeployedDOModel</span><span class="p">(</span><span class="n">wml_credentials</span><span class="p">,</span> <span class="n">space_name</span><span class="p">,</span> <span class="n">deployed_model_name</span><span class="p">)</span>
<span class="n">job_details</span> <span class="o">=</span> <span class="n">mdl</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Solve status: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mdl</span><span class="o">.</span><span class="n">solve_status</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Objective: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mdl</span><span class="o">.</span><span class="n">objective</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Output tables: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mdl</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
<p>TODOs:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Debug mode</p></li>
<li><p>Get the cplex log file?</p></li>
<li><p>Done - Add kill and stop methods</p></li>
<li><p>Done - Configure polling interval</p></li>
</ol>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.execute_model">
<span class="sig-name descname"><span class="pre">execute_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_oaas_time_limit_sec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.execute_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.execute_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.extract_solution">
<span class="sig-name descname"><span class="pre">extract_solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.extract_solution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.extract_solution" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.get_deployment_id">
<span class="sig-name descname"><span class="pre">get_deployment_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.get_deployment_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.get_deployment_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Find deployment_id from model_name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.get_job_status">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_job_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.get_job_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.get_job_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Job states can be : queued, running, completed, failed, canceled.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.get_outputs">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.get_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.get_outputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.get_solve_details">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_solve_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.get_solve_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.get_solve_details" title="Permalink to this definition">¶</a></dt>
<dd><p>After job has completed</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.get_solve_details_objective">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_solve_details_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.get_solve_details_objective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.get_solve_details_objective" title="Permalink to this definition">¶</a></dt>
<dd><p>After job has completed</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.get_solve_payload">
<span class="sig-name descname"><span class="pre">get_solve_payload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_oaas_time_limit_sec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.get_solve_payload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.get_solve_payload" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.get_solve_status">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_solve_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.get_solve_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.get_solve_status" title="Permalink to this definition">¶</a></dt>
<dd><p>After job has completed</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.get_space_id">
<span class="sig-name descname"><span class="pre">get_space_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">space_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.get_space_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.get_space_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Find space_id from space_name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.monitor_execution">
<span class="sig-name descname"><span class="pre">monitor_execution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_details</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_run_time_sec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.monitor_execution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.monitor_execution" title="Permalink to this definition">¶</a></dt>
<dd><p>Monitor the model execution by periodically calling the API to get the current execution status.
Result stored in self.execution_status_json and self.execution_status.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodel.DeployedDOModel.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_oaas_time_limit_sec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_run_time_sec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodel.html#DeployedDOModel.solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodel.DeployedDOModel.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Master routine. Initializes the job, starts the execution, monitors the results, post-processes the solution and cleans-up after.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>dict of DataFrames</em>) – input tables</p></li>
<li><p><strong>max_oaas_time_limit_sec</strong> (<em>int</em>) – will override the default from the constructor</p></li>
<li><p><strong>max_run_time_sec</strong> (<em>int</em>) – will override the default from the constructor</p></li>
</ul>
</dd>
</dl>
<p>Calls the following methods (in order):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">retrieve_solve_configuration</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">set_output_settings_in_solve_configuration</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">execute_model</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">monitor_execution</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">retrieve_debug_materials</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.deployeddomodelcpd21">
<span id="dse-do-utils-deployeddomodelcpd21-module"></span><h2>dse_do_utils.deployeddomodelcpd21 module<a class="headerlink" href="#module-dse_do_utils.deployeddomodelcpd21" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.deployeddomodelcpd21.</span></span><span class="sig-name descname"><span class="pre">DeployedDOModel_CPD21</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attachment_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CONTAINER'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suppress_warnings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_file_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'../datasets'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'log.txt'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Note: the deployment in CPDv2.5 has completely changed. This class is NOT compatible with CPDv2.5.</p>
<p>Major steps:
1. Create an instance of a DeployedDOModel, configuring parameters (e.g. the URL and access token)</p>
<p>Internally, the processes uses GETs to communicate with the deployed model:</p>
<ol class="arabic simple">
<li><p>Get configuration data from the service (<code class="xref py py-meth docutils literal notranslate"><span class="pre">retrieve_solve_configuration()</span></code>). This will give a URL to start a job. (<cite>self.solve_config_json</cite>)</p></li>
<li><p>Start the solve job. Returns info/urls to monitor the running job. (<cite>self.job_config_json</cite>)</p></li>
<li><p>Monitor the running solve job. Runs in a loop, updates the current state. (<cite>self.execution_status_json</cite>)</p></li>
<li><p>Once the job completes, get the optimization result.</p></li>
<li><p>Clean-up the resources</p></li>
</ol>
<p>In the code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mdl</span><span class="o">.</span><span class="n">solve</span><span class="p">():</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">retrieve_solve_configuration</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_output_settings_in_solve_configuration</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">execute_model</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">monitor_execution</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">retrieve_debug_materials</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</pre></div>
</div>
<p>Note on InsecureRequestWarning
If the option <cite>verify=False</cite> is being used for REST calls, the following warning is generated (for each REST API call):
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">InsecureRequestWarning:</span> <span class="pre">Unverified</span> <span class="pre">HTTPS</span> <span class="pre">request</span> <span class="pre">is</span> <span class="pre">being</span> <span class="pre">made.</span> <span class="pre">Adding</span> <span class="pre">certificate</span> <span class="pre">verification</span> <span class="pre">is</span> <span class="pre">strongly</span> <span class="pre">advised.</span> <span class="pre">See:</span> <span class="pre">https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings</span>
<span class="pre">InsecureRequestWarning)</span>
<span class="pre">`</span></code>
With the option suppress_warnings=True, all warnings in the mdl.solve() API are suppressed/ignored</p>
<p>TODOs:</p>
<p>1. Turning the option to False doesn’t work, i.e. skipping parameter <cite>oaas.dumpZipName</cite> will result in no attachments!
Work-around for now is to always add this option, let the server generate the dump and log file, but not download the zip and log files if debug = False
And always cleanup after.
3. Test kill and stop methods</p>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.cleanup">
<span class="sig-name descname"><span class="pre">cleanup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.cleanup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Call REST API to clean-up the job and, if applicable, the debug file.
Delete the job from the execution service as well as the debug file from the “debug” container, to free space on the cluster.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.execute_model">
<span class="sig-name descname"><span class="pre">execute_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.execute_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.execute_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Call REST API to start the solve of the model. Returns the execution data in self.execution_result.
Contains urls to monitor, stop or kill the job</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_debug_dump_name_and_url">
<span class="sig-name descname"><span class="pre">get_debug_dump_name_and_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_debug_dump_name_and_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_debug_dump_name_and_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the dump&lt;&gt;.zip file and the url to the data of the dump&lt;&gt;.zip file.
Can be called after the first time the job monitor has retrieved the self.execution_status_json</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_debug_file_url">
<span class="sig-name descname"><span class="pre">get_debug_file_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_debug_file_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_debug_file_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URL of the debug file.
To be used to retrieve the debug&lt;&gt;.zip file.
Also used to clean-up the remote debug file.
Is the self.debug_file_data_url minus the <cite>/data</cite> at the end</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_execution_service_model_url">
<span class="sig-name descname"><span class="pre">get_execution_service_model_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_execution_service_model_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_execution_service_model_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URL for the first call to the optimization service. Retrieves the service_configuration_json</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_execution_status">
<span class="sig-name descname"><span class="pre">get_execution_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_execution_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_execution_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_headers">
<span class="sig-name descname"><span class="pre">get_headers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_headers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_input_files">
<span class="sig-name descname"><span class="pre">get_input_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_input_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_input_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inputs for submission to the job execution run.</p>
<p>Challenge: the solve_config should be the first element in the self.files dict.
Work-around: use an OrderedDict. Not sure of this always works, i.e. if the</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_job_url">
<span class="sig-name descname"><span class="pre">get_job_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_job_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_job_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URL of the running job.
Will be called repeatedly while monitoring the execution of the job.
Can only be called after the call to <cite>execute_model</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_kill_job_url">
<span class="sig-name descname"><span class="pre">get_kill_job_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_kill_job_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_kill_job_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URL to kill a running job.
TODO: test
Can only be called after the call to <cite>execute_model</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_log_file_name_and_url">
<span class="sig-name descname"><span class="pre">get_log_file_name_and_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_log_file_name_and_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_log_file_name_and_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the log.txt file and the url to the data.
Can be called after the first time the job monitor has retrieved the self.execution_status_json</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_log_file_url">
<span class="sig-name descname"><span class="pre">get_log_file_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_log_file_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_log_file_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URL of the log file.
To be used to retrieve the log file.
Also used to clean-up the remote log file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_objective">
<span class="sig-name descname"><span class="pre">get_objective</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_objective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_objective" title="Permalink to this definition">¶</a></dt>
<dd><p>Available after post process (both CONTAINER and INLINE_TABLE)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_solution_name_and_url">
<span class="sig-name descname"><span class="pre">get_solution_name_and_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_solution_name_and_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_solution_name_and_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name (‘solution.json’) and the URL of the solution data.
This applies to both <cite>CONTAINER</cite> and <cite>INLINE_TABLE</cite> modes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_solve_config">
<span class="sig-name descname"><span class="pre">get_solve_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_solve_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_solve_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current solve_config.
Note that the self.solve_config will e first set after the <cite>retrieve_solve_configuration</cite>.
Next, it will be manipulated to add debugging information.
Can only be called after the call to <cite>retrieve_solve_configuration</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_solve_status">
<span class="sig-name descname"><span class="pre">get_solve_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_solve_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_solve_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Available during and after the job monitoring. String with values ‘NOT_STARTED’, ‘RUNNING’, “PROCESSED”, “FAILED”, “INTERRUPTED”, more?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_solve_url">
<span class="sig-name descname"><span class="pre">get_solve_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_solve_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_solve_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URL to start the execution of the solve job.
Can only be called after the call to <cite>retrieve_solve_configuration</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_stop_job_url">
<span class="sig-name descname"><span class="pre">get_stop_job_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.get_stop_job_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.get_stop_job_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URL to stop a running job.
TODO: test
Can only be called after the call to <cite>execute_model</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.kill_job">
<span class="sig-name descname"><span class="pre">kill_job</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.kill_job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.kill_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Call REST API to kill the solve of the model.
TODO: test</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.monitor_execution">
<span class="sig-name descname"><span class="pre">monitor_execution</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.monitor_execution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.monitor_execution" title="Permalink to this definition">¶</a></dt>
<dd><p>Monitor the model execution by periodically calling REST API to get the current execution status.
Result stored in self.execution_status_json and self.execution_status.</p>
<p>TODO: what are all possible values for execution_status? Are we stopping under the right conditions?
TODO: stop if we get an unknown status?
TODO: Time-out?
TODO: control the loop delay?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_container">
<span class="sig-name descname"><span class="pre">post_process_container</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.post_process_container"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Post-process ‘CONTAINER’ type job.
Called when execution reached status ‘PROCESSED’ and attachment_type=’CONTAINER’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_container_get_dataframe">
<span class="sig-name descname"><span class="pre">post_process_container_get_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.post_process_container_get_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_container_get_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Call REST API to GET the data from a table attachment and load into a DataFrame.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_failed">
<span class="sig-name descname"><span class="pre">post_process_failed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.post_process_failed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when execution reached status ‘FAILED’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_inline_table">
<span class="sig-name descname"><span class="pre">post_process_inline_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.post_process_inline_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_inline_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Post-process ‘INLINE_TABLE’ type job.
when execution reached status ‘PROCESSED’ and attachment_type=’INLINE_TABLE’.</p>
<p>In ‘INLINE_TABLE’ all output table data is already in the execution_status_json.
This data is in the form of json (not in csv format like the ‘CONTAINER’ type).
The solution data is not included and needs to be retrieved via a URL, just like with the ‘CONTAINER’ type.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_inline_table_get_dataframe">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">post_process_inline_table_get_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.post_process_inline_table_get_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_inline_table_get_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the ‘table’ to a DataFrame.
Applies to ‘INLINE_TABLE’ attachment type.</p>
<p>table is a dict with 2 keys:
1. name: string
2. rows: list of dicts with 1 key: <cite>values</cite>: list of strings/integers/floats</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_interrupted">
<span class="sig-name descname"><span class="pre">post_process_interrupted</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.post_process_interrupted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_interrupted" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when execution reached status ‘INTERRUPTED’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_processed">
<span class="sig-name descname"><span class="pre">post_process_processed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.post_process_processed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.post_process_processed" title="Permalink to this definition">¶</a></dt>
<dd><p>Post-process the succesfully completed solve job.
Called when execution reached status ‘PROCESSED’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.retrieve_debug_materials">
<span class="sig-name descname"><span class="pre">retrieve_debug_materials</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.retrieve_debug_materials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.retrieve_debug_materials" title="Permalink to this definition">¶</a></dt>
<dd><p>The dump zip and log files is saved in the self.debug_file_dir folder.
This dump zip file can be used to create a new scenario. (Using the right-hand-side panel in the Model Builder, ‘Create Scenario From file’.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.retrieve_file">
<span class="sig-name descname"><span class="pre">retrieve_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.retrieve_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.retrieve_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Call REST API to GET the data of the file
The file is saved in de debug folder.</p>
<p>Can be used for the dump&lt;&gt;.zip file or the log.txt file
This dump zip file can be used to create a new scenario (Using the right-hand-side panel in the Model Builder, ‘Create Scenario From file’)</p>
<p>Note that if we get here, there exists a log or dump file on the deployed service. Make sure this gets cleaned up.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.retrieve_solution">
<span class="sig-name descname"><span class="pre">retrieve_solution</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.retrieve_solution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.retrieve_solution" title="Permalink to this definition">¶</a></dt>
<dd><p>Call REST API to retrieve the solution.json.</p>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.retrieve_solve_configuration">
<span class="sig-name descname"><span class="pre">retrieve_solve_configuration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.retrieve_solve_configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.retrieve_solve_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Call REST API to GET the solve configuration. Result in self.solve_config_json</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.set_output_settings_in_solve_configuration">
<span class="sig-name descname"><span class="pre">set_output_settings_in_solve_configuration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.set_output_settings_in_solve_configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.set_output_settings_in_solve_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the self.solve_config to define the required output and debug results</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Master routine. Initializes the job, starts the execution, monitors the results, post-processes the solution and cleans-up after.</p>
<p>Calls the following methods (in order):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">retrieve_solve_configuration</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">set_output_settings_in_solve_configuration</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">execute_model</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">monitor_execution</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">retrieve_debug_materials</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.stop_job">
<span class="sig-name descname"><span class="pre">stop_job</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/deployeddomodelcpd21.html#DeployedDOModel_CPD21.stop_job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.deployeddomodelcpd21.DeployedDOModel_CPD21.stop_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Call REST API to stop the solve of the model.
TODO: test</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.domodeldeployer">
<span id="dse-do-utils-domodeldeployer-module"></span><h2>dse_do_utils.domodeldeployer module<a class="headerlink" href="#module-dse_do_utils.domodeldeployer" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.domodeldeployer.</span></span><span class="sig-name descname"><span class="pre">DOModelDeployer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wml_credentials</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_paths</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_paths</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deployment_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'xxx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deployment_description</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'xxx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Deploys a DO Model in WML. For use in CPD 4.0. Retrieves the model from the DO Model Builder.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>md = DOModelDeployer(wml_credentials, model_name, scenario_name, space_name,
                     package_paths, file_paths,
                     deployment_name, deployment_description)
deployment_uid = md.deploy_model()
print(deployment_uid)

How to add Python modules in the root:
- Specify paths to modules (.py files) in `file_paths`. These modules are included in the root of the project
  and can be accessed using `from my_module import MyClass`. This is similar to the additional files in the DO Experiment.
  These files can be located anywhere in JupyterLab.
How to add a Python package:
1. From conda
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.create_archive">
<span class="sig-name descname"><span class="pre">create_archive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">main_file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.create_archive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.create_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Create archive.
For now assume one folder <cite>model</cite> with one file <cite>main.py</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main_file_path</strong> – file path of main.py file</p></li>
<li><p><strong>path</strong> – folder where archive will be written</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.create_model_archive">
<span class="sig-name descname"><span class="pre">create_model_archive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.create_model_archive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.create_model_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a model archive on the path:
The archive contains one .py file: the do-model surrounded by boilerplate code to process
the inputs and outputs dictionaries.
Steps:
1. Write a file <cite>path/main.py</cite>
2. Creates an archive file in path
3. Adds the main.py
4. Adds packages
5. Adds (module) files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.create_model_directory">
<span class="sig-name descname"><span class="pre">create_model_directory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.create_model_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.create_model_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a directory ‘model’ in the default path.
Will remove/clear first if exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>path</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.create_package_extension">
<span class="sig-name descname"><span class="pre">create_package_extension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yaml_file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.create_package_extension"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.create_package_extension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.create_software_specification">
<span class="sig-name descname"><span class="pre">create_software_specification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkg_ext_ids</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.create_software_specification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.create_software_specification" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow for multiple package_extensions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.create_zip_package_extension">
<span class="sig-name descname"><span class="pre">create_zip_package_extension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">package_zip_filepath</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.create_zip_package_extension"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.create_zip_package_extension" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference external" href="https://notebooks.githubusercontent.com/view/ipynb?browser=chrome&amp;color_mode=auto&amp;commit=37188b1a8b48be2bef34b35b55f01cba0d29ed19&amp;device=unknown&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f49424d2f776174736f6e2d6d616368696e652d6c6561726e696e672d73616d706c65732f333731383862316138623438626532626566333462333562353566303163626130643239656431392f637064342e302f6e6f7465626f6f6b732f707974686f6e5f73646b2f6465706c6f796d656e74732f637573746f6d5f6c6962726172792f5573652532307363696b69742d6c6561726e253230616e64253230637573746f6d2532306c696272617279253230746f2532307072656469637425323074656d70657261747572652e6970796e62&amp;logged_in=false&amp;nwo=IBM%2Fwatson-machine-learning-samples&amp;path=cpd4.0%2Fnotebooks%2Fpython_sdk%2Fdeployments%2Fcustom_library%2FUse+scikit-learn+and+custom+library+to+predict+temperature.ipynb&amp;platform=android&amp;repository_id=277618282&amp;repository_type=Repository&amp;version=98">https://notebooks.githubusercontent.com/view/ipynb?browser=chrome&amp;color_mode=auto&amp;commit=37188b1a8b48be2bef34b35b55f01cba0d29ed19&amp;device=unknown&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f49424d2f776174736f6e2d6d616368696e652d6c6561726e696e672d73616d706c65732f333731383862316138623438626532626566333462333562353566303163626130643239656431392f637064342e302f6e6f7465626f6f6b732f707974686f6e5f73646b2f6465706c6f796d656e74732f637573746f6d5f6c6962726172792f5573652532307363696b69742d6c6561726e253230616e64253230637573746f6d2532306c696272617279253230746f2532307072656469637425323074656d70657261747572652e6970796e62&amp;logged_in=false&amp;nwo=IBM%2Fwatson-machine-learning-samples&amp;path=cpd4.0%2Fnotebooks%2Fpython_sdk%2Fdeployments%2Fcustom_library%2FUse+scikit-learn+and+custom+library+to+predict+temperature.ipynb&amp;platform=android&amp;repository_id=277618282&amp;repository_type=Repository&amp;version=98</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.deploy_archive">
<span class="sig-name descname"><span class="pre">deploy_archive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_archive_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml_file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.deploy_archive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.deploy_archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.deploy_model">
<span class="sig-name descname"><span class="pre">deploy_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.deploy_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.deploy_model" title="Permalink to this definition">¶</a></dt>
<dd><p>One call that deploys a model from the Model Builder scenario into WML.
Creates a model archive from the extracted model code.
Then uploads into WML and creates a deployment.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Deployment UID necessary to call the deployment.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>deployment_uid (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.get_scenario">
<span class="sig-name descname"><span class="pre">get_scenario</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.get_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.get_scenario" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.get_wml_create_deployment_meta_props">
<span class="sig-name descname"><span class="pre">get_wml_create_deployment_meta_props</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.get_wml_create_deployment_meta_props"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.get_wml_create_deployment_meta_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the meta_props for the creation of the deployment
Separate method, so can easily be overridden</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.get_wml_create_store_model_meta_props">
<span class="sig-name descname"><span class="pre">get_wml_create_store_model_meta_props</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sw_spec_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.get_wml_create_store_model_meta_props"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.get_wml_create_store_model_meta_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the meta_props for the store of the model
Separate method, so can easily be overridden</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.guid_from_space_name">
<span class="sig-name descname"><span class="pre">guid_from_space_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">space_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.guid_from_space_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.guid_from_space_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get space_id from deployment space name.
TODO: handle exception if space_name not found.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.wml_create_deployment">
<span class="sig-name descname"><span class="pre">wml_create_deployment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_uid</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.wml_create_deployment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.wml_create_deployment" title="Permalink to this definition">¶</a></dt>
<dd><p>Create deployment in WML
:returns: deployment_uid</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.wml_store_model">
<span class="sig-name descname"><span class="pre">wml_store_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_archive_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml_file_path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.wml_store_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.wml_store_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores model in WML
:returns: model_uid</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.write_main_file">
<span class="sig-name descname"><span class="pre">write_main_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.write_main_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.write_main_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the code for the main.py file.
Adds the code template header and footer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodeldeployer.DOModelDeployer.write_yaml_file">
<span class="sig-name descname"><span class="pre">write_yaml_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'./main.yml'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodeldeployer.html#DOModelDeployer.write_yaml_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodeldeployer.DOModelDeployer.write_yaml_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the code for the main.py file.
Adds the code template header and footer.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.domodelexporter">
<span id="dse-do-utils-domodelexporter-module"></span><h2>dse_do_utils.domodelexporter module<a class="headerlink" href="#module-dse_do_utils.domodelexporter" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.domodelexporter.DOModelExporter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.domodelexporter.</span></span><span class="sig-name descname"><span class="pre">DOModelExporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">do_model_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/domodelexporter.html#DOModelExporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodelexporter.DOModelExporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>DEPRECATED. These APis are no longer available from CPDv3.5
Exports a DO model from CPD2.5 using curl/web-requests.
By default, the export files are stored as datetime-stamped zip files in the Data Assets of the project.</p>
<p>Can be used in 4 ways:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Typical: only specify a list of the DO Model names to export.</p></li>
<li><p>Export from another project in same cluster.</p></li>
<li><p>Export from another project in another cluster.</p></li>
<li><p>Generates the full curl commands. Then copy and paste them into a terminal that supports curl.</p></li>
</ol>
</div></blockquote>
<ol class="arabic">
<li><dl>
<dt>Typical use:</dt><dd><p>Initialize the exporter with a list of DO Model names and call the method <cite>me.export_do_models()</cite>.
Must be run in the same project and cluster.
The DO Model export files are stored in the Data Assets of this project.
Uses naming pattern: <cite>{do_model_name}_export_{YYYYMMDD_hhmm}.zip</cite>.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">me</span> <span class="o">=</span> <span class="n">DOModelExporter</span><span class="p">(</span><span class="n">do_model_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Model1&#39;</span><span class="p">,</span> <span class="s1">&#39;Model2&#39;</span><span class="p">])</span>
<span class="n">me</span><span class="o">.</span><span class="n">export_do_models</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Export from another project in same cluster:</dt><dd><p>Need to specify the <cite>project_id</cite>. See below for how to get the project_id.
Assumes current user is a collaborator on the other project (if not use the next use-case):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">me</span> <span class="o">=</span> <span class="n">DOModelExporter</span><span class="p">(</span><span class="n">do_model_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ProductionPlanning&#39;</span><span class="p">],</span>
         <span class="n">project_id</span> <span class="o">=</span> <span class="s1">&#39;ef365b2c-9f28-447a-a933-5de6560a1cfa&#39;</span><span class="p">)</span>
<span class="n">me</span><span class="o">.</span><span class="n">export_do_models</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Export from another project in other cluster:</dt><dd><p>Specify access_toke=None, user_name, password and project_id.
Will retrieve the accessToken from the user-name and password:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">me</span> <span class="o">=</span> <span class="n">DOModelExporter</span><span class="p">(</span><span class="n">cpd_cluster_host</span> <span class="o">=</span> <span class="s1">&#39;https://dse-cp4d25-cluster4.cpolab.ibm.com&#39;</span><span class="p">,</span>
             <span class="n">access_token</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">user_name</span> <span class="o">=</span> <span class="n">user_name</span><span class="p">,</span>
             <span class="n">password</span> <span class="o">=</span> <span class="n">password</span><span class="p">,</span>
             <span class="n">do_model_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ProductionPlanning&#39;</span><span class="p">],</span>
             <span class="n">project_id</span> <span class="o">=</span> <span class="s1">&#39;b7bf7fd8-aa50-4bd2-8364-02ea6d480895&#39;</span><span class="p">)</span>
<span class="n">me</span><span class="o">.</span><span class="n">export_do_models</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><p>Generate curl commands:</p>
<ol class="loweralpha simple">
<li><p>Initialize the exporter: <cite>me = DOModelExporter(cluster_name, user_name, password, do_model_name, project_id)</cite></p></li>
<li><p>Get the access-token curl command: me.get_access_token_curl(). Extract the access_token string.</p></li>
<li><p>Get the export-do-model curl command: me.get_do_model_export_curl(do_model_name, access_token).</p></li>
</ol>
<blockquote>
<div><p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">me</span> <span class="o">=</span> <span class="n">DOModelExporter</span><span class="p">(</span><span class="n">do_model_names</span><span class="o">=</span><span class="p">[],</span>
             <span class="n">user_name</span> <span class="o">=</span> <span class="n">user_name</span><span class="p">,</span>
             <span class="n">password</span> <span class="o">=</span> <span class="n">password</span><span class="p">)</span>
<span class="n">me</span><span class="o">.</span><span class="n">get_access_token_curl</span><span class="p">()</span>
<span class="n">access_token</span> <span class="o">=</span> <span class="s1">&#39;xxxxxx&#39;</span>  <span class="c1"># Get value from running the above curl command</span>
<span class="n">me</span><span class="o">.</span><span class="n">get_do_model_export_curl</span><span class="p">(</span><span class="s1">&#39;ProductionPlanning&#39;</span><span class="p">,</span> <span class="n">access_token</span><span class="p">)</span>
</pre></div>
</div>
<p>Curl commands can be run for instance from the Git Bash terminal that is part of Git for Windows.</p>
</div></blockquote>
</li>
<li><p>How to get the <cite>project_id</cite>:</p>
<ol class="loweralpha">
<li><p>If not specifying a project_id in the constructor, it will get it automatically using the environment variable: <cite>os.environ[‘PROJECT_ID’]</cite>.</p></li>
<li><p>Run the  <cite>os.environ[‘PROJECT_ID’]</cite> in a notebook in the target project.</p></li>
<li><p>Parse the project_id from the Page Source of a web page in the target project.</p>
<blockquote>
<div><ol class="lowerroman">
<li><p>Manually.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>From any web-page of the CPD project, show the <cite>Page Source</cite>. (In Firefox: menu -&gt; Web Developer -&gt; Page Source)</p></li>
<li><p>Do a find-in-page of the name of the project (control-F).</p></li>
<li><p>Just before the first instance of the project name, there is a field <cite>data_id</cite>, e.g.: <cite>data-id=”21c8ac71-26c1-49a5-a567-d4c69a0d8158”</cite>. Copy the data_id value.</p></li>
<li><p>Beware that the Page Source may contain other project-names and projects-IDs, so search on the full project name.</p></li>
</ol>
</div></blockquote>
</li>
<li><p>Using the method <cite>DOModelExporter.get_project_id(project_name, page_source)</cite></p></li>
</ol>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">page_source</span> <span class="o">=</span> <span class="s1">&#39;the page source copied from Page Source&#39;</span>
<span class="n">project_id</span> <span class="o">=</span> <span class="n">DOModelExporter</span><span class="o">.</span><span class="n">get_project_id</span><span class="p">(</span><span class="s1">&#39;Full_Project_Name&#39;</span><span class="p">,</span> <span class="n">page_source</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</li>
<li><p>How to get the access_token:</p>
<ol class="loweralpha simple">
<li><p>If not provided (i.e. no entry in the constructor arguments), exporter uses the environment variable <cite>os.environ[‘USER_ACCESS_TOKEN’]</cite>.</p></li>
<li><p>Run the <cite>os.environ[‘USER_ACCESS_TOKEN’]</cite> in a notebook in the target project.</p></li>
<li><p>Specify <cite>access_token=None</cite> in the constructor arguments (this is NOT the same as specifying a None value!).        And specify a user-name and password. Exporter will retrieve the accessToken by calling a web-API.</p></li>
</ol>
</li>
<li><p>How to get the cpd_cluster_host?</p>
<ol class="loweralpha simple">
<li><p>If not provided, the exporter will use the environment variable <cite>os.environ[‘RUNTIME_ENV_APSX_URL’]</cite></p></li>
<li><p>For remote clusters. Beware of the URL of the cluster! DSE clusters may use some alias (e.g. <cite>dse-cp4d25-cluster4.datascienceelite.com</cite>) that is NOT accessable when running from within the same cluster.&lt;br&gt;        When running this from the same cluster, use the ‘original’ cluster name (e.g. <cite>dse-cp4d25-cluster4.cpolab.ibm.com</cite>).</p></li>
</ol>
</li>
</ol>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodelexporter.DOModelExporter.export_do_models">
<span class="sig-name descname"><span class="pre">export_do_models</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodelexporter.html#DOModelExporter.export_do_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodelexporter.DOModelExporter.export_do_models" title="Permalink to this definition">¶</a></dt>
<dd><p>End-to-end run. Gets the access token and then the DO model export.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodelexporter.DOModelExporter.get_access_token_curl">
<span class="sig-name descname"><span class="pre">get_access_token_curl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodelexporter.html#DOModelExporter.get_access_token_curl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodelexporter.DOModelExporter.get_access_token_curl" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the curl command to retreive the accessToken.
Based on the cluster_name, user_name and password.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodelexporter.DOModelExporter.get_access_token_web">
<span class="sig-name descname"><span class="pre">get_access_token_web</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">requests.models.Response</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodelexporter.html#DOModelExporter.get_access_token_web"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodelexporter.DOModelExporter.get_access_token_web" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs web request to get the personal access-token.
Based on the cluster_name, user_name and password.
Stores it in self.access_token</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodelexporter.DOModelExporter.get_do_model_export_curl">
<span class="sig-name descname"><span class="pre">get_do_model_export_curl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">do_model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodelexporter.html#DOModelExporter.get_do_model_export_curl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodelexporter.DOModelExporter.get_do_model_export_curl" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the curl command to retreive the accessToken.
Based on the cluster_name, user_name and password.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodelexporter.DOModelExporter.get_do_model_export_web">
<span class="sig-name descname"><span class="pre">get_do_model_export_web</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">do_model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">requests.models.Response</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodelexporter.html#DOModelExporter.get_do_model_export_web"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodelexporter.DOModelExporter.get_do_model_export_web" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs web-request to get DO model export.
Based on the cluster_name, access_token, do_model_name.
Stores result as a Data Asset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodelexporter.DOModelExporter.get_project_id">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_project_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_source</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodelexporter.html#DOModelExporter.get_project_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodelexporter.DOModelExporter.get_project_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the project ID from a page source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_name</strong> (<em>str</em>) – full name of the project</p></li>
<li><p><strong>page_source</strong> (<em>str</em>) – the page source of a page of the project in CPD</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>project_id (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.domodelexporter.DOModelExporter.write_do_model_to_file">
<span class="sig-name descname"><span class="pre">write_do_model_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">do_model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">requests.models.Response</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/domodelexporter.html#DOModelExporter.write_do_model_to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.domodelexporter.DOModelExporter.write_do_model_to_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.mapmanager">
<span id="dse-do-utils-mapmanager-module"></span><h2>dse_do_utils.mapmanager module<a class="headerlink" href="#module-dse_do_utils.mapmanager" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.mapmanager.</span></span><span class="sig-name descname"><span class="pre">MapManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'100%'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'100%'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer_control_position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'topleft'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/mapmanager.html#MapManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for building Folium map visualization.</p>
<p>Currently, the functionality is limited, but may be extended in the future.</p>
<p>Work-around for multi-line in popup:
<a class="reference external" href="https://github.com/python-visualization/folium/issues/469">https://github.com/python-visualization/folium/issues/469</a></p>
<p>Popup work-around:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">popup</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;Time: </span><span class="si">{time}</span><span class="s2">&lt;br&gt;&quot;</span>
    <span class="s2">&quot;Speed: </span><span class="si">{speed}</span><span class="s2"> km/h&lt;br&gt;&quot;</span>
<span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">row</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H:%M&#39;</span><span class="p">),</span>
         <span class="n">speed</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;spd&#39;</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>Tooltip doesn’t yet work in 0.50.0:&lt;br&gt;
<a class="reference external" href="https://github.com/python-visualization/folium/issues/785">https://github.com/python-visualization/folium/issues/785</a>
Update: in 0.6.0 (WSL1.2.3) it does seem to work!</p>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager.add_full_screen">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">add_full_screen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/mapmanager.html#MapManager.add_full_screen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager.add_full_screen" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a full-screen button in the top-left corner of the map.
Unfortunately, the full-screen doesn’t work in a Jupyter cell.
Seems to work ok here: <a class="reference external" href="http://nbviewer.jupyter.org/github/python-visualization/folium/blob/master/examples/Plugins.ipynb">http://nbviewer.jupyter.org/github/python-visualization/folium/blob/master/examples/Plugins.ipynb</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager.add_layer_control">
<span class="sig-name descname"><span class="pre">add_layer_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/mapmanager.html#MapManager.add_layer_control"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager.add_layer_control" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager.create_blank_map">
<span class="sig-name descname"><span class="pre">create_blank_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/mapmanager.html#MapManager.create_blank_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager.create_blank_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager.get_arrows">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_arrows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'blue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_arrows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/mapmanager.html#MapManager.get_arrows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager.get_arrows" title="Permalink to this definition">¶</a></dt>
<dd><p>Add arrows to a hypothetical line between the first 2 locations in the locations list.
Get a list of correctly placed and rotated arrows/markers to be plotted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locations</strong> – List of lists of lat lon that represent the
start and end of the line.
eg [[41.1132, -96.1993],[41.3810, -95.8021]]
The locations is a list so that it matches the input for the folium.PolyLine.</p></li>
<li><p><strong>color</strong> – Whatever folium can use.  Default is ‘blue’</p></li>
<li><p><strong>size</strong> – Size of arrow. Default is 6</p></li>
<li><p><strong>n_arrows</strong> – Number of arrows to create.  Default is 3.</p></li>
<li><p><strong>add_to</strong> – map or FeatureGroup the arrows are added to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of arrows/markers</p>
</dd>
</dl>
<p>Based on: <a class="reference external" href="https://medium.com/&#64;bobhaffner/folium-lines-with-arrows-25a0fe88e4e">https://medium.com/&#64;bobhaffner/folium-lines-with-arrows-25a0fe88e4e</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager.get_bearing">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_bearing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/mapmanager.html#MapManager.get_bearing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager.get_bearing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns compass bearing from p1 to p2</p>
<p>Parameters
p1 : namedtuple with lat lon
p2 : namedtuple with lat lon</p>
<p>Return
compass bearing of type float</p>
<p>Notes
Based on <a class="reference external" href="https://gist.github.com/jeromer/2005586">https://gist.github.com/jeromer/2005586</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager.get_html_table">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_html_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/mapmanager.html#MapManager.get_html_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager.get_html_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates 2 column html table for use in popups.
:param rows: List of sequences. Each sequence should have 2 string entries, one for each column</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a HTML formatted table of two columns</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>html</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager.get_popup_table">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_popup_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/mapmanager.html#MapManager.get_popup_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager.get_popup_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a popup table to add as a popup/child to a folium element.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">popup_table</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;property_1&#39;</span><span class="p">,</span> <span class="s1">&#39;value_1&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;property_2&#39;</span><span class="p">,</span> <span class="s1">&#39;value_2&#39;</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">popup</span> <span class="o">=</span> <span class="n">MapManager</span><span class="o">.</span><span class="n">get_popup_table</span><span class="p">(</span><span class="n">popup_table</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, the popup object can be used in a popup argument of a Marker:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">marker</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span><span class="n">coord</span><span class="p">,</span>
                   <span class="n">popup</span><span class="o">=</span><span class="n">popup</span><span class="p">,</span>
                   <span class="n">icon</span><span class="o">=</span><span class="n">icon</span>
                   <span class="p">)</span>
</pre></div>
</div>
<p>Or added as a child:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">county</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">popup</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rows</strong> – List of sequences. Each sequence should have 2 string entries, one for each column.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>popup (folium.Popup)</p>
</dd>
</dl>
<p>Notes
Beware that a quote in the texts causes a problem (no map shows).
This can be avoided by replacing the “’” with something else.
Unfortunately the option <cite>parse_html=True</cite> does not prevent the problem.
Despite the suggestion in <a class="reference external" href="https://nbviewer.jupyter.org/github/python-visualization/folium/blob/master/examples/Popups.ipynb">https://nbviewer.jupyter.org/github/python-visualization/folium/blob/master/examples/Popups.ipynb</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager.get_tooltip_table">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_tooltip_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/mapmanager.html#MapManager.get_tooltip_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager.get_tooltip_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a tooltip table, based on the same definition as for <cite>get_popup_table`</cite>.
Convenience method. Is the same as <cite>MapManager.get_html_table(rows)</cite>.
Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tooltip_table</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;property_1&#39;</span><span class="p">,</span> <span class="s1">&#39;value_1&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;property_2&#39;</span><span class="p">,</span> <span class="s1">&#39;value_2&#39;</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">tooltip</span> <span class="o">=</span> <span class="n">MapManager</span><span class="o">.</span><span class="n">get_tooltip_table</span><span class="p">(</span><span class="n">tooltip_table</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rows</strong> – list of tuples with name-value pairs</p>
</dd>
<dt class="field-even">Returns (str)</dt>
<dd class="field-even"><p>text for a tooltip in table format</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.mapmanager.MapManager.kansas_city_coord">
<span class="sig-name descname"><span class="pre">kansas_city_coord</span></span><em class="property"> <span class="pre">=</span> <span class="pre">[39.085594,</span> <span class="pre">-94.585241]</span></em><a class="headerlink" href="#dse_do_utils.mapmanager.MapManager.kansas_city_coord" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.multiscenariomanager">
<span id="dse-do-utils-multiscenariomanager-module"></span><h2>dse_do_utils.multiscenariomanager module<a class="headerlink" href="#module-dse_do_utils.multiscenariomanager" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.multiscenariomanager.</span></span><span class="sig-name descname"><span class="pre">MultiScenarioManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_root</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_access_token</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages multiple scenarios from same DO Model/Experiment.
Can export all scenarios in one Excel spreadsheet, where it adds the scenario_name as an additional column.
Also adds an additional ‘Scenario’ table. (This looks relevant for usage (filtering) in Cognos.)
By default, writes an Excel file in datasets named “model_name + ‘_multi_output’.xlsx”</p>
<p>Usage 1 - All scenarios from Model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_name</span> <span class="o">=</span> <span class="s1">&#39;My Model&#39;</span>
<span class="n">msm</span> <span class="o">=</span> <span class="n">MultiScenarioManager</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="n">model_name</span><span class="p">)</span>
<span class="n">msm</span><span class="o">.</span><span class="n">get_multi_scenario_data</span><span class="p">()</span>
<span class="n">msm</span><span class="o">.</span><span class="n">write_data_to_excel</span><span class="p">()</span>
</pre></div>
</div>
<p>Usage 2 - Selected scenarios from Model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_name</span> <span class="o">=</span> <span class="s1">&#39;My Model&#39;</span>
<span class="n">scenario_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Scenario 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Scenario 2&#39;</span><span class="p">]</span>
<span class="n">msm</span> <span class="o">=</span> <span class="n">MultiScenarioManager</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="n">model_name</span><span class="p">,</span> <span class="n">scenario_names</span><span class="o">=</span><span class="n">scenario_names</span><span class="p">)</span>
<span class="n">msm</span><span class="o">.</span><span class="n">get_multi_scenario_data</span><span class="p">()</span>
<span class="n">msm</span><span class="o">.</span><span class="n">write_data_to_excel</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.add_data_file_to_project">
<span class="sig-name descname"><span class="pre">add_data_file_to_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.add_data_file_to_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.add_data_file_to_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a data file to the Watson Studio project.
Applies to CP4Dv2.5 and WS Cloud
Needs to be called after the file has been saved regularly in the file system in
<cite>/project_data/data_asset/</cite> (for CPD2.5) or <cite>/home/dsxuser/work/</cite> in WS Cloud.
Ensures the file is visible in the Data Assets of the Watson Studio UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – full file path, including the file name and extension</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – name of data asset. Default is None. If None, the file-name will be extracted from the file_path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.env_is_wscloud">
<span class="sig-name descname"><span class="pre">env_is_wscloud</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.env_is_wscloud"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.env_is_wscloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if environment is WS Cloud</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.get_all_scenario_names">
<span class="sig-name descname"><span class="pre">get_all_scenario_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.get_all_scenario_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.get_all_scenario_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated. Replaced by get_scenarios_df</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.get_data_directory">
<span class="sig-name descname"><span class="pre">get_data_directory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.get_data_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.get_data_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the path to the datasets folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>path to the datasets folder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.get_dd_client">
<span class="sig-name descname"><span class="pre">get_dd_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.get_dd_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.get_dd_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Client managing the DO scenario.
Returns: new dd_scenario.Client</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.get_multi_scenario_data">
<span class="sig-name descname"><span class="pre">get_multi_scenario_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.get_multi_scenario_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.get_multi_scenario_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.get_root_directory">
<span class="sig-name descname"><span class="pre">get_root_directory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.get_root_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.get_root_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the root directory of the file system.
If system is WS, it will return the DSX root, otherwise the directory specified in the local_root.
:raises ValueError if root directory doesn’t exist.:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.get_scenarios_df">
<span class="sig-name descname"><span class="pre">get_scenarios_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.get_scenarios_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.get_scenarios_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Return scenarios as Dataframe.
If scenario_names is None, will get all scenarios in Model.
Else, just the ones matching the names.
For now, the only column in the df is the scenario_name.
More can be added later.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.load_data_from_scenario">
<span class="sig-name descname"><span class="pre">load_data_from_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.load_data_from_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.load_data_from_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: see of by re-using a Client, this can be done faster</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.merge_scenario_data">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">merge_scenario_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_by_scenario</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.merge_scenario_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.merge_scenario_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Add scenario_name as column. Merge tables</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.multiscenariomanager.MultiScenarioManager.write_data_to_excel">
<span class="sig-name descname"><span class="pre">write_data_to_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">excel_file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/multiscenariomanager.html#MultiScenarioManager.write_data_to_excel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.multiscenariomanager.MultiScenarioManager.write_data_to_excel" title="Permalink to this definition">¶</a></dt>
<dd><p>Write inputs and/or outputs to an Excel file in datasets.
The inputs and outputs as in the attributes <cite>self.inputs</cite> and <cite>self.outputs</cite> of the ScenarioManager</p>
<p>If the excel_file_name is None, it will be generated from the model_name and scenario_name: MODEL_NAME + “_multi_output”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>excel_file_name</strong> (<em>str</em>) – The file name for the Excel file.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.optimizationengine">
<span id="dse-do-utils-optimizationengine-module"></span><h2>dse_do_utils.optimizationengine module<a class="headerlink" href="#module-dse_do_utils.optimizationengine" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.MyProgressListener">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.optimizationengine.</span></span><span class="sig-name descname"><span class="pre">MyProgressListener</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">mdl:</span> <span class="pre">&lt;module</span> <span class="pre">'docplex.mp.model'</span> <span class="pre">from</span> <span class="pre">'C:\\Projects\\DSX-SCNFO-asset\\GSILabs_SCNFO\\GitHub\\SCNFO_Dash_PyCharm_GitHub\\venv\\lib\\site-packages\\docplex\\mp\\model.py'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#MyProgressListener"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.MyProgressListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">docplex.mp.progress.SolutionListener</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.MyProgressListener.notify_progress">
<span class="sig-name descname"><span class="pre">notify_progress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#MyProgressListener.notify_progress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.MyProgressListener.notify_progress" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called from within the solve with a ProgressData instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>progress_data</strong> – an instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">ProgressData</span></code> containing data about the
current point in the search tree.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.optimizationengine.</span></span><span class="sig-name descname"><span class="pre">OptimizationEngine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dse_do_utils.datamanager.DataManager" title="dse_do_utils.datamanager.DataManager"><span class="pre">dse_do_utils.datamanager.DataManager</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'MyOptimizationEngine'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.add_mip_progress_kpis">
<span class="sig-name descname"><span class="pre">add_mip_progress_kpis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mip_gap_kpi_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Gap'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solve_time_kpi_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Solve</span> <span class="pre">Time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">best_bound_kpi_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Best</span> <span class="pre">Bound'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution_count_kpi_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Solution</span> <span class="pre">Count'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solve_phase_kpi_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Solve</span> <span class="pre">Phase'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.add_mip_progress_kpis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.add_mip_progress_kpis" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds 5 KPIs to the self.mdl: ‘Gap’, ‘Solve Time’, ‘Best Bound’, ‘Solution Count’, ‘Solve Phase’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mip_gap_kpi_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>solve_time_kpi_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>best_bound_kpi_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>solution_count_kpi_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>solve_phase_kpi_name</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.binary_var_series">
<span class="sig-name descname"><span class="pre">binary_var_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.series.Series</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.binary_var_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.binary_var_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pd.Series[BinaryVarType]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.binary_var_series_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">binary_var_series_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">mdl:</span> <span class="pre">&lt;module</span> <span class="pre">'docplex.mp.model'</span> <span class="pre">from</span> <span class="pre">'C:\\Projects\\DSX-SCNFO-asset\\GSILabs_SCNFO\\GitHub\\SCNFO_Dash_PyCharm_GitHub\\venv\\lib\\site-packages\\docplex\\mp\\model.py'&gt;</span></em>, <em class="sig-param"><span class="pre">df:</span> <span class="pre">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="pre">**kargs</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.series.Series</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.binary_var_series_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.binary_var_series_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pd.Series[BinaryVarType]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.continuous_var_series">
<span class="sig-name descname"><span class="pre">continuous_var_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.series.Series</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.continuous_var_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.continuous_var_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pd.Series[ContinuousVarType]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.continuous_var_series_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">continuous_var_series_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">mdl:</span> <span class="pre">&lt;module</span> <span class="pre">'docplex.mp.model'</span> <span class="pre">from</span> <span class="pre">'C:\\Projects\\DSX-SCNFO-asset\\GSILabs_SCNFO\\GitHub\\SCNFO_Dash_PyCharm_GitHub\\venv\\lib\\site-packages\\docplex\\mp\\model.py'&gt;</span></em>, <em class="sig-param"><span class="pre">df:</span> <span class="pre">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="pre">**kargs</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.series.Series</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.continuous_var_series_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.continuous_var_series_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pd.Series[ContinuousVarType].</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.export_as_cpo">
<span class="sig-name descname"><span class="pre">export_as_cpo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_root</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_to_csv</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.export_as_cpo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.export_as_cpo" title="Permalink to this definition">¶</a></dt>
<dd><p>Export .cpo file of model in the ‘DSX_PROJECT_DIR.datasets’ folder.
It can write a copy as a .csv file, so it can be exported to a local machine.
If not in DSX, it will write to the local file system in the ‘local_root/datasets’ directory.
Convenience method.
Cpo-filename is based on the mdl.name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_root</strong> (<em>str</em>) – name of local directory. Will write .lp file here, if not in DSX</p></li>
<li><p><strong>copy_to_csv</strong> (<em>bool</em>) – DEPRECATED. If true, will create a copy of the file with the extension <cite>.csv</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path (str) path to cpo file</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if root directory can't be established.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.export_as_cpo_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">export_as_cpo_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_root</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_to_csv</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.export_as_cpo_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.export_as_cpo_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Export .cpo file of model in the ‘DSX_PROJECT_DIR.datasets’ folder.
It can write a copy as a .csv file, so it can be exported to a local machine.
If not in DSX, it will write to the local file system in the ‘local_root/datasets’ directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>docplex.cp.model</em>) – The CPLEX model to be exported</p></li>
<li><p><strong>model_name</strong> (<em>str</em>) – name of .lp file. If none specified, will use the model.name.
Specify if the model.name is not a valid file-name.</p></li>
<li><p><strong>local_root</strong> (<em>str</em>) – name of local directory. Will write .lp file here, if not in DSX</p></li>
<li><p><strong>copy_to_csv</strong> (<em>bool</em>) – If true, will create a copy of the file with the extension <cite>.csv</cite>.</p></li>
<li><p><strong>**kwargs</strong> – Passed to model.export_model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path (str) path to cpo file</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if root directory can't be established.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.export_as_lp">
<span class="sig-name descname"><span class="pre">export_as_lp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_root</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_to_csv</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.export_as_lp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.export_as_lp" title="Permalink to this definition">¶</a></dt>
<dd><p>Export .lp file of model in the ‘DSX_PROJECT_DIR.datasets’ folder.
Convenience method.
It can write a copy as a .csv file, so it can be exported to a local machine.
If not in DSX, it will write to the local file system in the ‘local_root/datasets’ directory.
Lp-filename is based on the mdl.name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_root</strong> (<em>str</em>) – name of local directory. Will write .lp file here, if not in DSX</p></li>
<li><p><strong>copy_to_csv</strong> (<em>bool</em>) – DEPRECATED. If true, will create a copy of the file with the extension <cite>.csv</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path (str) path to lp file</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if root directory can't be established.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.export_as_lp_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">export_as_lp_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_root</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_to_csv</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.export_as_lp_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.export_as_lp_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Export .lp file of model in the ‘DSX_PROJECT_DIR.datasets’ folder.
It can write a copy as a .csv file, so it can be exported to a local machine.
If not in WSL, it will write to the local file system in the ‘local_root/datasets’ directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>docplex.mp.model</em>) – The CPLEX model to be exported</p></li>
<li><p><strong>model_name</strong> (<em>str</em>) – name of .lp file. If none specified, will use the model.name.
Specify if the model.name is not a valid file-name.</p></li>
<li><p><strong>local_root</strong> (<em>str</em>) – name of local directory. Will write .lp file here, if not in WSL</p></li>
<li><p><strong>copy_to_csv</strong> (<em>bool</em>) – DEPRECATED. If true, will create a copy of the file with the extension <cite>.csv</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path (str) path to lp file</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if root directory can't be established.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.get_kpi_output_table">
<span class="sig-name descname"><span class="pre">get_kpi_output_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.get_kpi_output_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.get_kpi_output_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.integer_var_series">
<span class="sig-name descname"><span class="pre">integer_var_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.series.Series</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.integer_var_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.integer_var_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Series of integer dvar for each row in the DF. Most effective method. Best practice.
Result can be assigned to a column of the df.
Usage:
df[‘xDVar’] = mdl.integer_var_series(df, name = ‘xDVar’)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>docplex.mp.model</em>) – CPLEX Model</p></li>
<li><p><strong>df</strong> (<em>DataFrame</em>) – dataframe</p></li>
<li><p><strong>**kargs</strong> – arguments passed to mdl.integer_var_list method. E.g. ‘name’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(pandas.Series) with integer dvars (IntegerVarType), index matches index of df</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.integer_var_series_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">integer_var_series_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">mdl:</span> <span class="pre">&lt;module</span> <span class="pre">'docplex.mp.model'</span> <span class="pre">from</span> <span class="pre">'C:\\Projects\\DSX-SCNFO-asset\\GSILabs_SCNFO\\GitHub\\SCNFO_Dash_PyCharm_GitHub\\venv\\lib\\site-packages\\docplex\\mp\\model.py'&gt;</span></em>, <em class="sig-param"><span class="pre">df:</span> <span class="pre">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="pre">**kargs</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.series.Series</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.integer_var_series_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.integer_var_series_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pd.Series[IntegerVarType]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.optimizationengine.OptimizationEngine.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refine_conflict</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">docplex.mp.solution.SolveSolution</span></span></span><a class="reference internal" href="_modules/dse_do_utils/optimizationengine.html#OptimizationEngine.solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.optimizationengine.OptimizationEngine.solve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.plotly_cpd_workaround">
<span id="dse-do-utils-plotly-cpd-workaround-module"></span><h2>dse_do_utils.plotly_cpd_workaround module<a class="headerlink" href="#module-dse_do_utils.plotly_cpd_workaround" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dse_do_utils.plotlymanager">
<span id="dse-do-utils-plotlymanager-module"></span><h2>dse_do_utils.plotlymanager module<a class="headerlink" href="#module-dse_do_utils.plotlymanager" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.plotlymanager.PlotlyManager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.plotlymanager.</span></span><span class="sig-name descname"><span class="pre">PlotlyManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.datamanager.DataManager" title="dse_do_utils.datamanager.DataManager"><span class="pre">dse_do_utils.datamanager.DataManager</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/plotlymanager.html#PlotlyManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.plotlymanager.PlotlyManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Holds method that create Plotly charts.
Pass-in the DM as an input in the constructor.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.plotlymanager.PlotlyManager.get_dash_tab_layout_m">
<span class="sig-name descname"><span class="pre">get_dash_tab_layout_m</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/plotlymanager.html#PlotlyManager.get_dash_tab_layout_m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.plotlymanager.PlotlyManager.get_dash_tab_layout_m" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED. Not used in dse_do_dashboard package.
On the instance <cite>self</cite>, call the method named by get_tab_layout_{page_id}.
Used in dse_do_dashboard Plotly-Dash dashboards</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.plotlymanager.PlotlyManager.get_plotly_fig_m">
<span class="sig-name descname"><span class="pre">get_plotly_fig_m</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/plotlymanager.html#PlotlyManager.get_plotly_fig_m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.plotlymanager.PlotlyManager.get_plotly_fig_m" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED. Not used in dse_do_dashboard package.
On the instance <cite>self</cite>, call the method named by id[‘index’]
For use with pattern-matching callbacks. Assumes the id[‘index’] is the name of a method of this class and returns a fig.
Used in dse_do_dashboard Plotly-Dash dashboards</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.scenariodbmanager">
<span id="dse-do-utils-scenariodbmanager-module"></span><h2>dse_do_utils.scenariodbmanager module<a class="headerlink" href="#module-dse_do_utils.scenariodbmanager" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.AutoScenarioDbTable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariodbmanager.</span></span><span class="sig-name descname"><span class="pre">AutoScenarioDbTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#AutoScenarioDbTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.AutoScenarioDbTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable" title="dse_do_utils.scenariodbmanager.ScenarioDbTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbTable</span></code></a></p>
<p>Designed to automatically generate the table definition based on the DataFrame.</p>
<p>Main difference with the ‘regular’ ScenarioDbTable definition:
* At ‘create_schema`, the table will NOT be created. Instead,
* At ‘insert_table_in_db_bulk’ SQLAlchemy will automatically create a TABLE based on the DataFrame.</p>
<p>Advantages:
- No need to define a custom ScenarioDbTable class per table
- Automatically all columns are inserted
Disadvantages:
- No primary and foreign key relations. Thus no checks.
- Missing relationships means Cognos cannot automatically extract a data model</p>
<p>TODO: find out what will happen if the DataFrame structure changes and we’re doing a new insert</p>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.AutoScenarioDbTable.create_table_metadata">
<span class="sig-name descname"><span class="pre">create_table_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_scenario</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#AutoScenarioDbTable.create_table_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.AutoScenarioDbTable.create_table_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the engine to reflect the Table metadata.
Called during initialization.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.AutoScenarioDbTable.get_sa_table">
<span class="sig-name descname"><span class="pre">get_sa_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">sqlalchemy.sql.schema.Table</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#AutoScenarioDbTable.get_sa_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.AutoScenarioDbTable.get_sa_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the SQLAlchemy Table. Can be None if table is a AutoScenarioDbTable and not defined in Python code.
TODO: automatically reflect if None. Is NOT working yet!</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.AutoScenarioDbTable.insert_table_in_db_bulk">
<span class="sig-name descname"><span class="pre">insert_table_in_db_bulk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#AutoScenarioDbTable.insert_table_in_db_bulk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.AutoScenarioDbTable.insert_table_in_db_bulk" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>mgr</strong> (<a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager" title="dse_do_utils.scenariodbmanager.ScenarioDbManager"><em>ScenarioDbManager</em></a>) – </p></li>
<li><p><strong>connection</strong> – if not None, being run within a transaction</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.BusinessKpiTable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariodbmanager.</span></span><span class="sig-name descname"><span class="pre">BusinessKpiTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'business_kpi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extended_columns_metadata</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">sqlalchemy.sql.schema.Column</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#BusinessKpiTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.BusinessKpiTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable" title="dse_do_utils.scenariodbmanager.ScenarioDbTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbTable</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.DbCellUpdate">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariodbmanager.</span></span><span class="sig-name descname"><span class="pre">DbCellUpdate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#DbCellUpdate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.DbCellUpdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.DbCellUpdate.column_name">
<span class="sig-name descname"><span class="pre">column_name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#dse_do_utils.scenariodbmanager.DbCellUpdate.column_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.DbCellUpdate.current_value">
<span class="sig-name descname"><span class="pre">current_value</span></span><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#dse_do_utils.scenariodbmanager.DbCellUpdate.current_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.DbCellUpdate.previous_value">
<span class="sig-name descname"><span class="pre">previous_value</span></span><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#dse_do_utils.scenariodbmanager.DbCellUpdate.previous_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.DbCellUpdate.row_idx">
<span class="sig-name descname"><span class="pre">row_idx</span></span><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#dse_do_utils.scenariodbmanager.DbCellUpdate.row_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.DbCellUpdate.row_index">
<span class="sig-name descname"><span class="pre">row_index</span></span><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dse_do_utils.scenariodbmanager.DbCellUpdate.row_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.DbCellUpdate.scenario_name">
<span class="sig-name descname"><span class="pre">scenario_name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#dse_do_utils.scenariodbmanager.DbCellUpdate.scenario_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.DbCellUpdate.table_name">
<span class="sig-name descname"><span class="pre">table_name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#dse_do_utils.scenariodbmanager.DbCellUpdate.table_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.KpiTable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariodbmanager.</span></span><span class="sig-name descname"><span class="pre">KpiTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'kpis'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#KpiTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.KpiTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable" title="dse_do_utils.scenariodbmanager.ScenarioDbTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbTable</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ParameterTable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariodbmanager.</span></span><span class="sig-name descname"><span class="pre">ParameterTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'parameters'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extended_columns_metadata</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">sqlalchemy.sql.schema.Column</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ParameterTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ParameterTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable" title="dse_do_utils.scenariodbmanager.ScenarioDbTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbTable</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariodbmanager.</span></span><span class="sig-name descname"><span class="pre">ScenarioDbManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_db_tables</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable" title="dse_do_utils.scenariodbmanager.ScenarioDbTable"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbTable</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_db_tables</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable" title="dse_do_utils.scenariodbmanager.ScenarioDbTable"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbTable</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">echo</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_scenario</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_transactions</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_sqlite_fk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_astype</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_debug_print</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>TODO: documentation!</p>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.add_scenario_name_to_dfs">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">add_scenario_name_to_dfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.add_scenario_name_to_dfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.add_scenario_name_to_dfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a <cite>scenario_name</cite> column to each df.
Or overwrites all values of that column already exists.
This avoids to need for the MultiScenarioManager when loading and storing single scenarios.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.create_schema">
<span class="sig-name descname"><span class="pre">create_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.create_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.create_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Drops all tables and re-creates the schema in the DB.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.delete_scenario_from_db">
<span class="sig-name descname"><span class="pre">delete_scenario_from_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.delete_scenario_from_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.delete_scenario_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a scenario. Uses a transaction (when enabled).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.delete_scenario_name_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">delete_scenario_name_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.delete_scenario_name_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.delete_scenario_name_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Drops the column <cite>scenario_name</cite> from any df in either inputs or outputs.
This is used to create a inputs/outputs combination similar to loading a single scenario from the DO Experiment.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.drop_all_tables">
<span class="sig-name descname"><span class="pre">drop_all_tables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.drop_all_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.drop_all_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Drops all tables in the current schema.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.duplicate_scenario_in_db">
<span class="sig-name descname"><span class="pre">duplicate_scenario_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.duplicate_scenario_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.duplicate_scenario_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate a scenario. Uses a transaction (when enabled).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.get_scenario_db_table">
<span class="sig-name descname"><span class="pre">get_scenario_db_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable" title="dse_do_utils.scenariodbmanager.ScenarioDbTable"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbTable</span></a></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.get_scenario_db_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.get_scenario_db_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Scenario table must be the first in self.input_db_tables</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.get_scenarios_df">
<span class="sig-name descname"><span class="pre">get_scenarios_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.get_scenarios_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.get_scenarios_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all scenarios in df. Result is indexed by <cite>scenario_name</cite>.
Main API to get all scenarios.
The API called by a cached procedure in the dse_do_dashboard.DoDashApp.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.insert_scenarios_from_zip">
<span class="sig-name descname"><span class="pre">insert_scenarios_from_zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.insert_scenarios_from_zip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.insert_scenarios_from_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert (or replace) a set of scenarios from a .zip file into the DB.
Zip is assumed to contain one or more .xlsx files. Others will be skipped.
Name of .xlsx file will be used as the scenario name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> – filepath of a zip file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.insert_scenarios_in_db">
<span class="sig-name descname"><span class="pre">insert_scenarios_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bulk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.insert_scenarios_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.insert_scenarios_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED. If we need it back, requires re-evaluation and bulk support.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.insert_tables_in_db">
<span class="sig-name descname"><span class="pre">insert_tables_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bulk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_insert</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.insert_tables_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.insert_tables_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED.
Was attempt to automatically insert a scenario without any schema definition.
Currently, one would need to use the AutoScenarioDbTable in the constructor.
If you want to automatically create such schema based on the inputs/outputs, then do that in the constructor. Not here.
Note: the non-bulk ONLY works if the schema was created! I.e. only when using with self.create_schema.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.read_multi_scenario_tables_from_db">
<span class="sig-name descname"><span class="pre">read_multi_scenario_tables_from_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_table_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_table_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.read_multi_scenario_tables_from_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.read_multi_scenario_tables_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Read selected set input and output tables from multiple scenarios.
If input_table_names/output_table_names contains a ‘*’, then all input/output tables will be read.
If empty list or None, then no tables will be read.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_from_db">
<span class="sig-name descname"><span class="pre">read_scenario_from_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_threaded</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.read_scenario_from_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Single scenario load.
Main API to read a complete scenario.
Reads all tables for a single scenario.
Returns all tables in one dict</p>
<p>Note: multi_threaded doesn’t seem to lead to performance improvement.
Fixed: omit reading scenario table as an input.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_input_tables_from_db">
<span class="sig-name descname"><span class="pre">read_scenario_input_tables_from_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.read_scenario_input_tables_from_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_input_tables_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method to load all input tables.
Typically used at start if optimization model.
:returns The inputs and outputs. (The outputs are always empty.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_table_from_db">
<span class="sig-name descname"><span class="pre">read_scenario_table_from_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.read_scenario_table_from_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_table_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a single table from the DB.
Main API to read a single table.
The API called by a cached procedure in the dse_do_dashboard.DoDashApp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scenario_name</strong> – Name of scenario</p></li>
<li><p><strong>scenario_table_name</strong> – Name of scenario table (not the DB table name)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_table_from_db_cached">
<span class="sig-name descname"><span class="pre">read_scenario_table_from_db_cached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.read_scenario_table_from_db_cached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_table_from_db_cached" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED - now in DoDashApp
For use with Flask caching. Default implementation.
In case no caching has been configured. Simply calls the regular method <cite>read_scenario_table_from_db</cite>.</p>
<p>For caching:
1. Specify a callback procedure in <cite>read_scenario_table_from_db_callback</cite> that uses a hard-coded version of a ScenarioDbManager,
which in turn calls the regular method <cite>read_scenario_table_from_db</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_tables_from_db">
<span class="sig-name descname"><span class="pre">read_scenario_tables_from_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_table_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_table_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.read_scenario_tables_from_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_tables_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Read selected set input and output tables from scenario.
If input_table_names/output_table_names contains a ‘*’, then all input/output tables will be read.
If empty list or None, then no tables will be read.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_tables_from_db_cached">
<span class="sig-name descname"><span class="pre">read_scenario_tables_from_db_cached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_table_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_table_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.read_scenario_tables_from_db_cached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenario_tables_from_db_cached" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED - now in DoDashApp
For use with Flask caching. Loads data for selected input and output tables.
Same as <cite>read_scenario_tables_from_db</cite>, but calls <cite>read_scenario_table_from_db_cached</cite>.
Is called from dse_do_dashboard.DoDashApp to create the PlotlyManager.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenarios_from_db">
<span class="sig-name descname"><span class="pre">read_scenarios_from_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.read_scenarios_from_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenarios_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED. Multi scenario load.
Reads all tables from set of scenarios
TODO: avoid use of text SQL. Use SQLAlchemy sql generation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenarios_table_from_db_cached">
<span class="sig-name descname"><span class="pre">read_scenarios_table_from_db_cached</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.read_scenarios_table_from_db_cached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.read_scenarios_table_from_db_cached" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED - now in DoDashApp
For use with Flask caching. Default implementation.
To be called from (typically) a Dash app to use the cached version.
In case no caching has been configured. Simply calls the regular method <cite>get_scenarios_df</cite>.</p>
<p>For caching:
1. Specify a callback procedure in <cite>read_scenarios_table_from_db_callback</cite> that uses a hard-coded version of a ScenarioDbManager,
which in turn calls the regular method <cite>get_scenarios_df</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.rename_scenario_in_db">
<span class="sig-name descname"><span class="pre">rename_scenario_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.rename_scenario_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.rename_scenario_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a scenario. Uses a transaction (when enabled).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.replace_scenario_in_db">
<span class="sig-name descname"><span class="pre">replace_scenario_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bulk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.replace_scenario_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.replace_scenario_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert or replace a scenario. Main API to insert/update a scenario.
If the scenario exists, will delete rows first.
Inserts scenario data in all tables.
Inserts tables in order specified in OrderedDict. Inputs first, outputs second.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scenario_name</strong> – </p></li>
<li><p><strong>inputs</strong> – </p></li>
<li><p><strong>outputs</strong> – </p></li>
<li><p><strong>bulk</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.replace_scenario_tables_in_db">
<span class="sig-name descname"><span class="pre">replace_scenario_tables_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.replace_scenario_tables_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.replace_scenario_tables_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Untested</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.set_scenarios_table_read_callback">
<span class="sig-name descname"><span class="pre">set_scenarios_table_read_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenarios_table_read_callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.set_scenarios_table_read_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.set_scenarios_table_read_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED - now in DoDashApp
Sets a callback function to read the scenario table from the DB</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.set_table_read_callback">
<span class="sig-name descname"><span class="pre">set_table_read_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_read_callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.set_table_read_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.set_table_read_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED - now in DoDashApp
Sets a callback function to read a table from a scenario</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.update_cell_changes_in_db">
<span class="sig-name descname"><span class="pre">update_cell_changes_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_cell_updates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dse_do_utils.scenariodbmanager.DbCellUpdate" title="dse_do_utils.scenariodbmanager.DbCellUpdate"><span class="pre">dse_do_utils.scenariodbmanager.DbCellUpdate</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.update_cell_changes_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.update_cell_changes_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a set of cells in the DB.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db_cell_updates</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbManager.update_scenario_output_tables_in_db">
<span class="sig-name descname"><span class="pre">update_scenario_output_tables_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbManager.update_scenario_output_tables_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager.update_scenario_output_tables_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Main API to update output from a DO solve in the scenario.
Deletes ALL output tables. Then inserts the given set of tables.
Since this only touches the output tables, more efficient than replacing the whole scenario.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariodbmanager.</span></span><span class="sig-name descname"><span class="pre">ScenarioDbTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_metadata</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">sqlalchemy.sql.schema.Column</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Abstract class. Subclass to be able to define table schema definition, i.e. column name, data types, primary and foreign keys.
Only columns that are specified and included in the DB insert.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.add_scenario_name_to_fk_constraint">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">add_scenario_name_to_fk_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fkc</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">sqlalchemy.sql.schema.ForeignKeyConstraint</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.add_scenario_name_to_fk_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.add_scenario_name_to_fk_constraint" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new ForeignKeyConstraint by adding the <cite>scenario_name</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.camel_case_to_snake_case">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">camel_case_to_snake_case</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.camel_case_to_snake_case"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.camel_case_to_snake_case" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.create_table_metadata">
<span class="sig-name descname"><span class="pre">create_table_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_scenario</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">sqlalchemy.sql.schema.Table</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.create_table_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.create_table_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>If multi_scenario, then add a primary key ‘scenario_name’.</p>
<p>engine, schema is used only for AutoScenarioDbTable to get the Table (metadata) by reflection</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.df_column_names_to_snake_case">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">df_column_names_to_snake_case</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.df_column_names_to_snake_case"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.df_column_names_to_snake_case" title="Permalink to this definition">¶</a></dt>
<dd><p>“Change all columns names from camelCase to snake_case.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.get_db_table_name">
<span class="sig-name descname"><span class="pre">get_db_table_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.get_db_table_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.get_db_table_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.get_df_column_names">
<span class="sig-name descname"><span class="pre">get_df_column_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.get_df_column_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.get_df_column_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all column names that are both defined in the DB schema and present in the DataFrame df.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.get_df_column_names_2">
<span class="sig-name descname"><span class="pre">get_df_column_names_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">df:</span> <span class="pre">pandas.core.frame.DataFrame)</span> <span class="pre">-&gt;</span> <span class="pre">(typing.List[str],</span> <span class="pre">&lt;class</span> <span class="pre">'pandas.core.frame.DataFrame'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.get_df_column_names_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.get_df_column_names_2" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Get all column names that are defined in the DB schema.</dt><dd><p>If not present in the DataFrame df, adds the missing column with all None values.</p>
<p>Note 1 (VT 20220829):
Note that the <cite>sqlalchemy.insert(db_table.table_metadata).values(row)</cite> does NOT properly handle columns that are missing in the row.
It seems to simply truncate the columns if the row length is less than the number of columns.
It does NOT match the column names!
Thus the need to add columns, so we end up with proper None values in the row for the insert, specifying all columns in the table.</p>
<p>Note 2 (VT 20220829):
Reducing the list of sqlalchemy.Column does NOT work in <cite>sqlalchemy.insert(db_table.table_metadata).values(row)</cite>
The db_table.table_metadata is an object, not a List[sqlalchemy.Column]</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.get_sa_column">
<span class="sig-name descname"><span class="pre">get_sa_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_column_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">sqlalchemy.sql.schema.Column</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.get_sa_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.get_sa_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the SQLAlchemy.Column with the specified name.
Uses the self.table_metadata (i.e. the sqlalchemy.Table), so works both for pre-defined tables and self-reflected tables like AutoScenarioDbTable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.get_sa_table">
<span class="sig-name descname"><span class="pre">get_sa_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">sqlalchemy.sql.schema.Table</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.get_sa_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.get_sa_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the SQLAlchemy Table. Can be None if table is a AutoScenarioDbTable and not defined in Python code.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.insert_table_in_db_bulk">
<span class="sig-name descname"><span class="pre">insert_table_in_db_bulk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_astype</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.insert_table_in_db_bulk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.insert_table_in_db_bulk" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a DataFrame in the DB using ‘bulk’ insert, i.e. with one SQL insert.
(Instead of row-by-row.)
:param df:
:type df: pd.DataFrame
:param mgr:
:type mgr: ScenarioDbManager
:param connection: if not None, being run within a transaction
:param enable_astype: if True, apply df.column.astype based on datatypes extracted from columns_metadata (i.e. sqlachemy.Column)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.resolve_metadata_column_conflicts">
<span class="sig-name descname"><span class="pre">resolve_metadata_column_conflicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns_metadata</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">sqlalchemy.sql.schema.Column</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">sqlalchemy.sql.schema.Column</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.resolve_metadata_column_conflicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.resolve_metadata_column_conflicts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioDbTable.sqlcol">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">sqlcol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioDbTable.sqlcol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable.sqlcol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariodbmanager.ScenarioTable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariodbmanager.</span></span><span class="sig-name descname"><span class="pre">ScenarioTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'scenario'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariodbmanager.html#ScenarioTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariodbmanager.ScenarioTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbTable" title="dse_do_utils.scenariodbmanager.ScenarioDbTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbTable</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.scenariomanager">
<span id="dse-do-utils-scenariomanager-module"></span><h2>dse_do_utils.scenariomanager module<a class="headerlink" href="#module-dse_do_utils.scenariomanager" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.Platform">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariomanager.</span></span><span class="sig-name descname"><span class="pre">Platform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#Platform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.Platform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.Platform.CPD25">
<span class="sig-name descname"><span class="pre">CPD25</span></span><em class="property"> <span class="pre">=</span> <span class="pre">3</span></em><a class="headerlink" href="#dse_do_utils.scenariomanager.Platform.CPD25" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.Platform.CPD40">
<span class="sig-name descname"><span class="pre">CPD40</span></span><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#dse_do_utils.scenariomanager.Platform.CPD40" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.Platform.CPDaaS">
<span class="sig-name descname"><span class="pre">CPDaaS</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#dse_do_utils.scenariomanager.Platform.CPDaaS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.Platform.Local">
<span class="sig-name descname"><span class="pre">Local</span></span><em class="property"> <span class="pre">=</span> <span class="pre">4</span></em><a class="headerlink" href="#dse_do_utils.scenariomanager.Platform.Local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariomanager.</span></span><span class="sig-name descname"><span class="pre">ScenarioManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_root</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_access_token</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">platform</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dse_do_utils.scenariomanager.Platform" title="dse_do_utils.scenariomanager.Platform"><span class="pre">dse_do_utils.scenariomanager.Platform</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_relative_data_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'assets/data_asset'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A ScenarioManager is responsible for loading and storing the input and output DataFrame dictionaries.
The data can be loaded from and stored into:</p>
<blockquote>
<div><ul class="simple">
<li><p>A DO scenario</p></li>
<li><p>An Excel spreadsheet</p></li>
<li><p>A set of csv files</p></li>
</ul>
</div></blockquote>
<p>Excel. Stores one DataFrame per sheet. Creates a <cite>__index__</cite> sheet that keeps track which DataFrame
is input or output, and it restores table names that longer than the maximum of 31 in Excel.</p>
<p>Usage 1 - Load data from Excel and store into DO scenario.
Assumes DO model <cite>MyModel</cite> and an Excel file <cite>datasets/MyExcelFile.xlsx</cite> exists.
The scenario will be created if it doesn’t exist or otherwise gets overwritten:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sm</span> <span class="o">=</span> <span class="n">ScenarioManager</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;MyModel, scenario_name=&#39;</span><span class="n">Scenario_1</span><span class="p">)</span>
<span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">load_data_from_excel</span><span class="p">(</span><span class="s1">&#39;MyExcelFile&#39;</span><span class="p">)</span>
<span class="n">sm</span><span class="o">.</span><span class="n">write_data_into_scenario</span><span class="p">()</span>
</pre></div>
</div>
<p>Usage 2 - Load data from DO scenario.
Assumes DO model <cite>MyModel</cite> and scenario exists. Typical use in a <cite>#dd-ignore</cite> cell in a solves notebook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sm</span> <span class="o">=</span> <span class="n">ScenarioManager</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;MyModel, scenario_name=&#39;</span><span class="n">Scenario_1</span><span class="p">)</span>
<span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">load_data_from_scenario</span><span class="p">()</span>
</pre></div>
</div>
<p>Usage 3 - Load data from all csv files in datasets into Excel.&lt;br&gt;
Stores into <cite>/datasets/excel_test.xlsx</cite>.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">excel_output_file_name</span> <span class="o">=</span> <span class="s1">&#39;excel_test&#39;</span>
<span class="n">csv_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;DSX_PROJECT_DIR&#39;</span><span class="p">],</span> <span class="s1">&#39;datasets&#39;</span><span class="p">)</span>
<span class="n">sm</span> <span class="o">=</span> <span class="n">ScenarioManager</span><span class="p">()</span>
<span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">load_data_from_csv</span><span class="p">(</span><span class="n">csv_directory</span><span class="p">)</span>
<span class="n">sm</span><span class="o">.</span><span class="n">write_data_to_excel</span><span class="p">(</span><span class="n">excel_output_file_name</span><span class="p">)</span>
</pre></div>
</div>
<p>Usage 4 - Load data from Excel and store into Excel.
Assumes Excel file <cite>datasets/MyExcelFile.xlsx</cite> exists.
Will create a file <cite>datasets/MyExcelFileOutput.xlsx</cite>.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sm</span> <span class="o">=</span> <span class="n">ScenarioManager</span><span class="p">()</span>
<span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">load_data_from_excel</span><span class="p">(</span><span class="s1">&#39;MyExcelFile&#39;</span><span class="p">)</span>
<span class="c1"># Do something with the inputs or outputs</span>
<span class="n">sm</span><span class="o">.</span><span class="n">write_data_to_excel</span><span class="p">(</span><span class="s1">&#39;MyExcelFileOutput&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.add_data_file_to_project_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">add_data_file_to_project_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.add_data_file_to_project_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.add_data_file_to_project_s" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED: will never work on CP4DaaS since it requires the project_lib.Project
Add a data file to the Watson Studio project.
Applies to CP4Dv2.5.
Needs to be called after the file has been saved regularly in the file system in <cite>/project_data/data_asset/</cite>.
Ensures the file is visible in the Data Assets of the Watson Studio UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – full file path, including the file name and extension</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – name of data asset. Default is None. If None, the file-name will be extracted from the file_path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.add_data_file_using_project_lib">
<span class="sig-name descname"><span class="pre">add_data_file_using_project_lib</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.add_data_file_using_project_lib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.add_data_file_using_project_lib" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a data file to the Watson Studio project.
Applies to CP4Dv2.5 and WS Cloud/CP4DaaS
Needs to be called after the file has been saved regularly in the file system in
<cite>/project_data/data_asset/</cite> (for CPD2.5) or <cite>/home/wsuser/work/</cite> in CPDaaS.
Ensures the file is visible in the Data Assets of the Watson Studio UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – full file path, including the file name and extension</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – name of data asset. Default is None. If None, the file-name will be extracted from the file_path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.add_data_file_using_ws_lib">
<span class="sig-name descname"><span class="pre">add_data_file_using_ws_lib</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.add_data_file_using_ws_lib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.add_data_file_using_ws_lib" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a data file to the Watson Studio project using the ibm_watson_studio_lib .
Applies to CP4Dv4.0
TODO: where should the file be written?
Needs to be called after the file has been saved regularly in the file system in
<cite>/project_data/data_asset/</cite> (for CPD2.5) or <cite>/home/wsuser/work/</cite> in WS Cloud.
Ensures the file is visible in the Data Assets of the Watson Studio UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – full file path, including the file name and extension</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – name of data asset. Default is None. If None, the file-name will be extracted from the file_path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.add_data_file_using_ws_lib_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">add_data_file_using_ws_lib_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.add_data_file_using_ws_lib_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.add_data_file_using_ws_lib_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a data file to the Watson Studio project using the ibm_watson_studio_lib .
Applies to CP4Dv4.0
TODO: where should the file be written?
Needs to be called after the file has been saved regularly in the file system in
<cite>/project_data/data_asset/</cite> (for CPD2.5) or <cite>/home/dsxuser/work/</cite> in WS Cloud.
Ensures the file is visible in the Data Assets of the Watson Studio UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – full file path, including the file name and extension</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – name of data asset. Default is None. If None, the file-name will be extracted from the file_path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.add_data_into_scenario">
<span class="sig-name descname"><span class="pre">add_data_into_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.add_data_into_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.add_data_into_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds data to a DO scenario. If table exists, does an overwrite/replace.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.add_data_into_scenario_s">
<span class="sig-name descname"><span class="pre">add_data_into_scenario_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.add_data_into_scenario_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.add_data_into_scenario_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds tables in existing scenario.</p>
<p>Replaces table, if table exists.
Assumes scenario exists. Does not explicitly clear existing tables.
Could be used in post-processing.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.add_file_as_data_asset">
<span class="sig-name descname"><span class="pre">add_file_as_data_asset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.add_file_as_data_asset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.add_file_as_data_asset" title="Permalink to this definition">¶</a></dt>
<dd><p>Register an existing file as a data asset in CPD.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> – full path of the file</p></li>
<li><p><strong>asset_name</strong> – name of asset. If None, will get the name from the file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.add_file_as_data_asset_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">add_file_as_data_asset_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">platform</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dse_do_utils.scenariomanager.Platform" title="dse_do_utils.scenariomanager.Platform"><span class="pre">dse_do_utils.scenariomanager.Platform</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.add_file_as_data_asset_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.add_file_as_data_asset_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Register an existing file as a data asset in CPD.
VT 2022-01-21: this method is incorrect for CPDaaS. Should use project_lib.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> – full path of the file</p></li>
<li><p><strong>asset_name</strong> – name of asset. If None, will get the name from the file</p></li>
<li><p><strong>platform</strong> – CPD40, CPD25, CPSaaS, or Local. If None, will autodetect.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.clear_scenario_data">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">clear_scenario_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.clear_scenario_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.clear_scenario_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears all input and output tables from a scenario.</p>
<p>Current API requires the client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – </p></li>
<li><p><strong>scenario</strong> – </p></li>
<li><p><strong>category</strong> (<em>string</em><em> [</em><em>'input'</em><em>,</em><em>'output'</em><em>]</em>) – If None, clears all tables.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.create_new_scenario">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_new_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_builder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_scenario_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.create_new_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.create_new_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new scenario from a template. The template is found either from the template_scenario_name,
or if this is None, from the new_scenario_name. If a scenario with the new name already exists,
all input and output tables are cleared. Thereby keeping the solve code.
Creates a new blank scenario if a scenario with this name doesn’t exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> (<em>decision_optimization_client.Client</em>) – Client managing the DO model</p></li>
<li><p><strong>model_builder</strong> (<em>decision_optimization_client.Experiment</em>) – The DO model</p></li>
<li><p><strong>new_scenario_name</strong> (<em>str</em>) – Name for the new scenario</p></li>
<li><p><strong>template_scenario_name</strong> (<em>str</em>) – Name of an existing scenario</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A decision_optimization_client.Container of type scenario</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – new_scenario_name is None</p></li>
<li><p><strong>ValueError</strong> – new_scenario_name is the same as template_scenario_name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.detect_platform">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">detect_platform</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#dse_do_utils.scenariomanager.Platform" title="dse_do_utils.scenariomanager.Platform"><span class="pre">dse_do_utils.scenariomanager.Platform</span></a></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.detect_platform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.detect_platform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.env_is_cpd25">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">env_is_cpd25</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.env_is_cpd25"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.env_is_cpd25" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if environment is CPDv2.5</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.env_is_cpd40">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">env_is_cpd40</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.env_is_cpd40"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.env_is_cpd40" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if environment is CPDv4.0.2 and in particular supports ibm_watson_studio_lib to get access to data assets.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The <cite>import from ibm_watson_studio_lib import access_project_or_space</cite> does NOT fail in CPDaaS</p></li>
<li><p>The <cite>wslib = access_project_or_space()</cite> does fail in CPDaaS, however with an ugly error message</p></li>
<li><p>Current ugly work-around is to always first test for CPDaaS using the environment variable</p></li>
<li><p>TODO: prevent error/warning in CPDaaS</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.env_is_dsx">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">env_is_dsx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.env_is_dsx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.env_is_dsx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if environment is DSX</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.env_is_wscloud">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">env_is_wscloud</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.env_is_wscloud"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.env_is_wscloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if environment is WS Cloud</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.export_model_as_lp">
<span class="sig-name descname"><span class="pre">export_model_as_lp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.export_model_as_lp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.export_model_as_lp" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports the model as an .lp file in the data assets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<em>docplex.mp.model</em>) – the docplex model</p></li>
<li><p><strong>model_name</strong> (<em>str</em>) – name of model (excluding the <cite>.lp</cite>). If no model_name, it uses the <cite>mdl.name</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>full file path of lp file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
<p>Note: now a method of ScenarioManager (instead of OptimizationEngine),
so this can be included in a dd-ignore notebook cell. Avoids the dependency on dse-do-utils in the ModelBuilder.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.get_data_directory">
<span class="sig-name descname"><span class="pre">get_data_directory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.get_data_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.get_data_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the path to the datasets folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>path to the datasets folder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.get_dd_client">
<span class="sig-name descname"><span class="pre">get_dd_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.get_dd_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.get_dd_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Client managing the DO scenario.
Returns: new decision_optimization_client.Client</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.get_do_scenario">
<span class="sig-name descname"><span class="pre">get_do_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.get_do_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.get_do_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a DO scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_name</strong> (<em>str</em>) – the name of the DO model</p></li>
<li><p><strong>scenario_name</strong> (<em>str</em>) – the name of the scenario</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dd-scenario.Container of type <cite>scenario</cite></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – When either the model_name or the scenario_name doesn’t match an existing entity.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.get_kpis_table_as_dataframe">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_kpis_table_as_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.get_kpis_table_as_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.get_kpis_table_as_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a DataFrame with the KPI names and values in the mdl.
This table is compatible with the representation in DO4WS and can be updated in the scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mdl</strong> (<em>docplex.mp.model.Model</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the KPIs in the mdl</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame with columns NAME and VALUE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.get_root_directory">
<span class="sig-name descname"><span class="pre">get_root_directory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.get_root_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.get_root_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the root directory of the file system.
If system is WS, it will return the DSX root, otherwise the directory specified in the local_root.
:raises ValueError if root directory doesn’t exist.:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.insert_scenarios_from_zip">
<span class="sig-name descname"><span class="pre">insert_scenarios_from_zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.insert_scenarios_from_zip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.insert_scenarios_from_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert (or replace) a set of scenarios from a .zip file into the DO Experiment.
Zip is assumed to contain one or more .xlsx files. Others will be skipped.
Name of .xlsx file will be used as the scenario name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_from_excel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excel_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from either the DO scenario, or an Excel spreadsheet.
The Excel spreadsheet is expected to be in the <cite>datasets</cite> folder, either in WS or local.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the inputs and outputs dictionary of DataFrames</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>inputs, outputs (tuple of dicts)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data_from_csv">
<span class="sig-name descname"><span class="pre">load_data_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_csv_name_pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'*.csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_csv_name_pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data_from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data_from_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from matching csv files in a directory.
Uses glob.glob() to pattern-match files in the csv_directory.
If you want to load one file, specify the full name including the <cite>.csv</cite> extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csv_directory</strong> (<em>str</em>) – Relative directory from the root</p></li>
<li><p><strong>input_csv_name_pattern</strong> (<em>str</em>) – name pattern to find matching csv files for inputs</p></li>
<li><p><strong>output_csv_name_pattern</strong> (<em>str</em>) – name pattern to find matching csv files for outputs</p></li>
<li><p><strong>**kwargs</strong> – Set of optional arguments for the pd.read_csv() function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data_from_csv_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load_data_from_csv_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_name_pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'*.csv'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data_from_csv_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data_from_csv_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from all matching .csv files in a directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csv_directory</strong> (<em>str</em>) – the full path of a directory containing one or more .csv files.</p></li>
<li><p><strong>csv_name_pattern</strong> (<em>str</em>) – name pattern to find matching csv files</p></li>
<li><p><strong>**kwargs</strong> – Set of optional arguments for the pd.read_csv() function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of DataFrames. Keys are the .csv file names.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data_from_excel">
<span class="sig-name descname"><span class="pre">load_data_from_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">excel_file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data_from_excel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data_from_excel" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from an Excel file located in the <cite>datasets</cite> folder of the root directory.
Convenience method.
If run not on WS, requires the <cite>root_dir</cite> property passed in the ScenarioManager constructor</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data_from_excel_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load_data_from_excel_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xl</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.io.excel._base.ExcelFile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_index_sheet</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'_table_index_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_table_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_table_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data_from_excel_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data_from_excel_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Create dataFrames from the sheets of the Excel file.
Store in dictionary df_dict with table_name as key.
The table_name is either the name of the sheet, or the table_name as defined in the table_index_sheet.</p>
<p>In the default case, when the input_table_names or output_table_names are None, the category of the table
(i.e. input or output) is driven off the value in the table_index_sheet.
If not listed in table_index_sheet, it is placed in the inputs.</p>
<p>However, to reduce the load time for certain applications, we can restrict the tables it loads by specifying them in
the input_table_names or output_table_names. If one of them is not None, it wil only load those tables
and categorize them accordingly.</p>
<p>Note that if either input_table_names or output_table_names is used, if applicable, they would refer to
the <em>translated</em> tables names by the table_index_sheet. (I.e. not the abbreviated names used in the sheet names.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xl</strong> (<em>pandas.ExcelFile</em>) – Excel file</p></li>
<li><p><strong>table_index_sheet</strong> (<em>str</em>) – Name of table index sheet</p></li>
<li><p><strong>input_table_names</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – names of input tables to read</p></li>
<li><p><strong>output_table_names</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – names of output tables to read</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple of inputs and outputs dictionaries of DataFrames,</dt><dd><p>one df per sheet</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(Dict[str,DataFrame], Dict[str,DataFrame])</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data_from_parquet">
<span class="sig-name descname"><span class="pre">load_data_from_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_name_pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'*.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_name_pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data_from_parquet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data_from_parquet" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from matching parquet files in a directory.
Uses glob.glob() to pattern-match files in the directory.
If you want to load one file, specify the full name including the <cite>.parquet</cite> extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – Relative directory from the root</p></li>
<li><p><strong>input_name_pattern</strong> (<em>str</em>) – name pattern to find matching parquet files for inputs</p></li>
<li><p><strong>output_name_pattern</strong> (<em>str</em>) – name pattern to find matching parquet files for outputs</p></li>
<li><p><strong>**kwargs</strong> – Set of optional arguments for the pd.read_parquet() function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data_from_parquet_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load_data_from_parquet_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name_pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'*.parquet'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data_from_parquet_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data_from_parquet_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from all matching .parquet files in a directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – the full path of a directory containing one or more .parquet files.</p></li>
<li><p><strong>file_name_pattern</strong> (<em>str</em>) – name pattern to find matching parquet files</p></li>
<li><p><strong>**kwargs</strong> – Set of optional arguments for the pd.read_parquet() function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of DataFrames. Keys are the .parquet file names.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data_from_scenario">
<span class="sig-name descname"><span class="pre">load_data_from_scenario</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data_from_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data_from_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the data from a DO scenario</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data_from_scenario_s">
<span class="sig-name descname"><span class="pre">load_data_from_scenario_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data_from_scenario_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data_from_scenario_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the data from a DO scenario.
Returns empty dict if no tables.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.load_data_from_zip_csv_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load_data_from_zip_csv_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_size_limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.load_data_from_zip_csv_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.load_data_from_zip_csv_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from a zip file with .csv files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zip_file_path</strong> (<em>str</em>) – the full path of a zip file containing one or more .csv files.</p></li>
<li><p><strong>file_size_limit</strong> (<em>int</em>) – maximum file size in bytes. None implies no limit.</p></li>
<li><p><strong>**kwargs</strong> – Set of optional arguments for the pd.read_csv() function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of DataFrames. Keys are the .csv file names.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.print_table_names">
<span class="sig-name descname"><span class="pre">print_table_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.print_table_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.print_table_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the names of the input and output tables. For development and debugging.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.replace_data_in_scenario">
<span class="sig-name descname"><span class="pre">replace_data_in_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.replace_data_in_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.replace_data_in_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces all input, output or both.
Note: you will need to specify the inputs or outputs you want to replace explicitly as input arguments.
It will NOT get them from self.inputs or self.outputs!
In this way, you can control which to update. E.g. after a solve, only update the outputs, not the inputs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.replace_data_into_scenario_s">
<span class="sig-name descname"><span class="pre">replace_data_into_scenario_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.replace_data_into_scenario_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.replace_data_into_scenario_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces all input, output or both.</p>
<p>If input/output are not None, clears inputs/outputs first
Assumes scenario exists. Does explicitly clear all existing input/output tables.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.update_solve_output_into_scenario">
<span class="sig-name descname"><span class="pre">update_solve_output_into_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.update_solve_output_into_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.update_solve_output_into_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces all output and KPIs table in the scenario.</p>
<p>Assumes the scenario exists.
Will not change the inputs of the scenario.
Generates the KPI table.</p>
<dl class="simple">
<dt>Limitations:</dt><dd><ul class="simple">
<li><p>Does NOT update the objective</p></li>
<li><p>Does NOT update the log</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<em>docplex.mp.model</em>) – the model that has been solved</p></li>
<li><p><strong>outputs</strong> (<em>Dict</em>) – dictionary of DataFrames</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.write_data_into_scenario">
<span class="sig-name descname"><span class="pre">write_data_into_scenario</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.write_data_into_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.write_data_into_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the data into a DO scenario. Create new scenario and write data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.write_data_into_scenario_s">
<span class="sig-name descname"><span class="pre">write_data_into_scenario_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.write_data_into_scenario_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.write_data_into_scenario_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new scenario and write data.</p>
<p>If scenario exists: clears all existing data.
If scenario doesn’t exists: create new one. If template_scenario_name is specified, use that as template.
If the existing scenario has a model, it keeps the model.
If there is no existing scenario, the user needs to add a model manually in DO.
Tested: works reliably.</p>
<p>TODO: one small issue: if scenario exists and has been solved before, it clears all inputs and outputs
(including the KPIs), but not the objective value. The DO UI shows as if the model has been solved.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.write_data_to_csv">
<span class="sig-name descname"><span class="pre">write_data_to_csv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.write_data_to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.write_data_to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Write inputs and/or outputs to .csv files in the root/datasets folder.</p>
<p>Args: None
Returns: None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.write_data_to_csv_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">write_data_to_csv_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.write_data_to_csv_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.write_data_to_csv_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to .csv files in a directory. Name as name of DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csv_directory</strong> (<em>str</em>) – the full path of a directory for the .csv files.</p></li>
<li><p><strong>inputs</strong> (<em>Dict of DataFrames</em>) – inputs</p></li>
<li><p><strong>outputs</strong> (<em>Dict of DataFrames</em>) – outputs</p></li>
</ul>
</dd>
</dl>
<p>Returns: None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.write_data_to_excel">
<span class="sig-name descname"><span class="pre">write_data_to_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">excel_file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_to_csv</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.write_data_to_excel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.write_data_to_excel" title="Permalink to this definition">¶</a></dt>
<dd><p>Write inputs and/or outputs to an Excel file in datasets.
The inputs and outputs as in the attributes <cite>self.inputs</cite> and <cite>self.outputs</cite> of the ScenarioManager</p>
<p>The copy_to_csv is a work-around for the WS limitation of not being able to download a file from datasets that is not a csv file.
Creates a copy of the Excel file as a file named <cite>&lt;excel_file_name&gt;_xlxs.csv</cite> in the datasets folder. This is <em>not</em> a csv file!
Download this file to your local computer and rename to <cite>&lt;excel_file_name&gt;.xlxs</cite></p>
<p>If the excel_file_name is None, it will be generated from the model_name and scenario_name: MODEL_NAME + “_” + SCENARIO_NAME + “_output”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>excel_file_name</strong> (<em>str</em>) – The file name for the Excel file.</p></li>
<li><p><strong>copy_to_csv</strong> (<em>bool</em>) – If true, will create a copy of the file with the extension <cite>.csv</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.write_data_to_excel_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">write_data_to_excel_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">writer</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.io.excel._base.ExcelWriter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_index_sheet</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'_table_index_'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.write_data_to_excel_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.write_data_to_excel_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes all dataframes in the inputs and outputs to the Excel writer, with sheet-names based on
the keys of the inputs/outputs. Due to the Excel limitation of maximum 31 characters for the sheet-name,
tables names longer than the 31 characters will be abbreviated with a unique name. The mapping between
the original table-name and abbreviated name is recorded in a separate sheet named by the table_index_sheet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>writer</strong> (<em>pandas.ExcelWriter</em>) – The Excel writer to write the file</p></li>
<li><p><strong>inputs</strong> (<em>Dict of DataFrames</em>) – inputs</p></li>
<li><p><strong>outputs</strong> (<em>Dict of DataFrames</em>) – outputs</p></li>
<li><p><strong>table_index_sheet</strong> (<em>str</em>) – name for the index sheet</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.write_data_to_parquet">
<span class="sig-name descname"><span class="pre">write_data_to_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.write_data_to_parquet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.write_data_to_parquet" title="Permalink to this definition">¶</a></dt>
<dd><p>Write inputs and/or outputs to .parquet files in the target folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>directory</strong> (<em>str</em>) – Relative directory from the root</p>
</dd>
</dl>
<p>Returns: None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.write_data_to_parquet_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">write_data_to_parquet_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.write_data_to_parquet_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.write_data_to_parquet_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to .parquet files in a directory. Name as name of DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – the full path of a directory for the .parquet files.</p></li>
<li><p><strong>inputs</strong> (<em>Dict of DataFrames</em>) – inputs</p></li>
<li><p><strong>outputs</strong> (<em>Dict of DataFrames</em>) – outputs</p></li>
</ul>
</dd>
</dl>
<p>Returns: None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariomanager.ScenarioManager.write_data_to_zip_csv_s">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">write_data_to_zip_csv_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariomanager.html#ScenarioManager.write_data_to_zip_csv_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariomanager.ScenarioManager.write_data_to_zip_csv_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data as a zip file with .csv files.
inputs and outputs dictionaries are merged and written in same zip.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zip_file_path</strong> (<em>str</em>) – the full path of a zip file.</p></li>
<li><p><strong>inputs</strong> – dict of input DataFrames</p></li>
<li><p><strong>outputs</strong> – dict of input DataFrames</p></li>
<li><p><strong>**kwargs</strong> – Set of optional arguments for the df.to_csv() function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.scenariopicker">
<span id="dse-do-utils-scenariopicker-module"></span><h2>dse_do_utils.scenariopicker module<a class="headerlink" href="#module-dse_do_utils.scenariopicker" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariopicker.</span></span><span class="sig-name descname"><span class="pre">ScenarioPicker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">typing.Optional[str]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_access_token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">typing.Optional[str]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariopicker.html#ScenarioPicker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Notebook widget to interactively select a scenario from the dd_scenario.Client.</p>
<p>Usage</p>
<p>Cell 1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sp</span> <span class="o">=</span> <span class="n">ScenarioPicker</span><span class="p">(</span><span class="n">model_name</span> <span class="o">=</span> <span class="s1">&#39;My_DO_Model&#39;</span><span class="p">)</span>
<span class="n">sp</span><span class="o">.</span><span class="n">get_scenario_picker_ui</span><span class="p">()</span>
</pre></div>
</div>
<p>Cell 2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">load_selected_scenario_data</span><span class="p">()</span>
</pre></div>
</div>
<p>Create a ScenarioPicker and pass the model name.
The API <cite>get_scenario_picker_ui()</cite> returns a widget with a drop-down box with the available scenarios.
In addition, there is a Refresh button that will run all cells below this cell.
The next cell should reload the scenario data.
The API <cite>load_selected_scenario_data()</cite> is a convenience method that internally uses a ScenarioManager to load
the data from the DO scenario.</p>
<p>The selection of the scenario is maintained in the class variable ScenarioPicker.default_scenario.
Therefore, a re-run of the cell keeps the last selected value.
By adding:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ScenarioPicker</span><span class="o">.</span><span class="n">default_scenario</span> <span class="o">=</span> <span class="s1">&#39;my_default_scenario&#39;</span>
</pre></div>
</div>
<p>before the creation of the scenario picker, one can force the default scenario to an initial value.</p>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker.ScenarioRefreshButton">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">ScenarioRefreshButton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariopicker.html#ScenarioPicker.ScenarioRefreshButton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker.ScenarioRefreshButton" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ipywidgets.widgets.widget_button.Button</span></code></p>
<p>A widget Refresh button that will refresh all cells below.
Inner class of ScenarioPicker since it is only applicable in the context of the ScenarioPicker.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker.default_scenario">
<span class="sig-name descname"><span class="pre">default_scenario</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker.default_scenario" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker.get_dd_client">
<span class="sig-name descname"><span class="pre">get_dd_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariopicker.html#ScenarioPicker.get_dd_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker.get_dd_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Client managing the DO scenario.
Returns: new dd_scenario.Client</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker.get_scenario_picker_ui">
<span class="sig-name descname"><span class="pre">get_scenario_picker_ui</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariopicker.html#ScenarioPicker.get_scenario_picker_ui"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker.get_scenario_picker_ui" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a combination of both the drop-down and the refresh button.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker.get_scenario_refresh_button">
<span class="sig-name descname"><span class="pre">get_scenario_refresh_button</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariopicker.html#ScenarioPicker.get_scenario_refresh_button"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker.get_scenario_refresh_button" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an instance of the Refresh button.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker.get_scenario_select_drop_down">
<span class="sig-name descname"><span class="pre">get_scenario_select_drop_down</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ipywidgets.widgets.widget_selection.Dropdown</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariopicker.html#ScenarioPicker.get_scenario_select_drop_down"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker.get_scenario_select_drop_down" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the drop-down button.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker.get_selected_scenario">
<span class="sig-name descname"><span class="pre">get_selected_scenario</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariopicker.html#ScenarioPicker.get_selected_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker.get_selected_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the selected scenario</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker.load_selected_scenario_data">
<span class="sig-name descname"><span class="pre">load_selected_scenario_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariopicker.html#ScenarioPicker.load_selected_scenario_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker.load_selected_scenario_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method. Creates a ScenarioManager and loads input and output data from the scenario
selected by the picker.
:returns: A tuple with the (inputs, outputs) data</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariopicker.ScenarioPicker.widgets">
<span class="sig-name descname"><span class="pre">widgets</span></span><em class="property"> <span class="pre">=</span> <span class="pre">&lt;module</span> <span class="pre">'ipywidgets.widgets'</span> <span class="pre">from</span> <span class="pre">'C:\\Projects\\DSX-SCNFO-asset\\GSILabs_SCNFO\\GitHub\\SCNFO_Dash_PyCharm_GitHub\\venv\\lib\\site-packages\\ipywidgets\\widgets\\__init__.py'&gt;</span></em><a class="headerlink" href="#dse_do_utils.scenariopicker.ScenarioPicker.widgets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.scenariorunner">
<span id="dse-do-utils-scenariorunner-module"></span><h2>dse_do_utils.scenariorunner module<a class="headerlink" href="#module-dse_do_utils.scenariorunner" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariorunner.</span></span><span class="sig-name descname"><span class="pre">RunConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">insert_inputs_in_db</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_outputs_in_db</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_schema</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_in_do</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_output_to_excel</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_data_check</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_data_check_outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_check_bulk_insert</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'DEBUG'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_lp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_lp_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#RunConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.data_check_bulk_insert">
<span class="sig-name descname"><span class="pre">data_check_bulk_insert</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.data_check_bulk_insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.do_model_name">
<span class="sig-name descname"><span class="pre">do_model_name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.do_model_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.enable_data_check">
<span class="sig-name descname"><span class="pre">enable_data_check</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.enable_data_check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.enable_data_check_outputs">
<span class="sig-name descname"><span class="pre">enable_data_check_outputs</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.enable_data_check_outputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.export_lp">
<span class="sig-name descname"><span class="pre">export_lp</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.export_lp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.export_lp_path">
<span class="sig-name descname"><span class="pre">export_lp_path</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><em class="property"> <span class="pre">=</span> <span class="pre">''</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.export_lp_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.insert_in_do">
<span class="sig-name descname"><span class="pre">insert_in_do</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.insert_in_do" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.insert_inputs_in_db">
<span class="sig-name descname"><span class="pre">insert_inputs_in_db</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.insert_inputs_in_db" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.insert_outputs_in_db">
<span class="sig-name descname"><span class="pre">insert_outputs_in_db</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.insert_outputs_in_db" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.log_level">
<span class="sig-name descname"><span class="pre">log_level</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><em class="property"> <span class="pre">=</span> <span class="pre">'DEBUG'</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.log_level" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.new_schema">
<span class="sig-name descname"><span class="pre">new_schema</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.new_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.template_scenario_name">
<span class="sig-name descname"><span class="pre">template_scenario_name</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.template_scenario_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.RunConfig.write_output_to_excel">
<span class="sig-name descname"><span class="pre">write_output_to_excel</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.RunConfig.write_output_to_excel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioConfig">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariorunner.</span></span><span class="sig-name descname"><span class="pre">ScenarioConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'Scenario_x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioConfig.parameters">
<span class="sig-name descname"><span class="pre">parameters</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict</span></em><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioConfig.parameters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioConfig.scenario_name">
<span class="sig-name descname"><span class="pre">scenario_name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><em class="property"> <span class="pre">=</span> <span class="pre">'Scenario_x'</span></em><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioConfig.scenario_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioGenerator">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariorunner.</span></span><span class="sig-name descname"><span class="pre">ScenarioGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.ScenarioConfig" title="dse_do_utils.scenariorunner.ScenarioConfig"><span class="pre">dse_do_utils.scenariorunner.ScenarioConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generates a variation of a scenario, i.e. <cite>inputs</cite> dataset, driven by a ScenarioConfig.
To be subclassed.
This base class implements overrides of the Parameter table.
The ScenarioGenerator is typically used in the context of a ScenarioRunner.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyScenarioGenerator</span><span class="p">(</span><span class="n">ScenarioGenerator</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">generate_scenario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">new_inputs</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">generate_scenario</span><span class="p">()</span>
        <span class="n">new_inputs</span><span class="p">[</span><span class="s1">&#39;MyTable1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_my_table1</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">new_inputs</span><span class="p">[</span><span class="s1">&#39;MyTable2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_my_table2</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_inputs</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioGenerator.generate_scenario">
<span class="sig-name descname"><span class="pre">generate_scenario</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioGenerator.generate_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioGenerator.generate_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a variation of the base_inputs. To be overridden.
This default implementation changes the Parameter table based on the overrides in the ScenarioConfig.parameters.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">generate_scenario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">new_inputs</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">generate_scenario</span><span class="p">()</span>
    <span class="n">new_inputs</span><span class="p">[</span><span class="s1">&#39;MyTable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_my_table</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">new_inputs</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioGenerator.get_parameters">
<span class="sig-name descname"><span class="pre">get_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioGenerator.get_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioGenerator.get_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies overrides to the Parameter table based on the ScenarioConfig.parameters.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dse_do_utils.scenariorunner.</span></span><span class="sig-name descname"><span class="pre">ScenarioRunner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_db_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager" title="dse_do_utils.scenariodbmanager.ScenarioDbManager"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimization_engine_class</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dse_do_utils.optimizationengine.OptimizationEngine" title="dse_do_utils.optimizationengine.OptimizationEngine"><span class="pre">dse_do_utils.optimizationengine.OptimizationEngine</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_manager_class</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dse_do_utils.datamanager.DataManager" title="dse_do_utils.datamanager.DataManager"><span class="pre">dse_do_utils.datamanager.DataManager</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_db_manager_class</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dse_do_utils.scenariodbmanager.ScenarioDbManager" title="dse_do_utils.scenariodbmanager.ScenarioDbManager"><span class="pre">dse_do_utils.scenariodbmanager.ScenarioDbManager</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_generator_class</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dse_do_utils.scenariorunner.ScenarioGenerator" title="dse_do_utils.scenariorunner.ScenarioGenerator"><span class="pre">dse_do_utils.scenariorunner.ScenarioGenerator</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'my_model'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_root</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_platform</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>TODO: remove local_root, local_platform, replace by data_directory? (It seems to be working fine though)</p>
<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.create_new_db_schema">
<span class="sig-name descname"><span class="pre">create_new_db_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.create_new_db_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.create_new_db_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.data_check_inputs">
<span class="sig-name descname"><span class="pre">data_check_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'data_check'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bulk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.data_check_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.data_check_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Use SQLite to validate data. Read data back and do a dm.prepare_data_frames.
Does a deepcopy of the inputs to ensure the DB operations do not alter the inputs.
Bulk can be set to True once the basic data issues have been resolved and performance needs to be improved.
Set bulk to False to get more granular DB insert errors, i.e. per record.
TODO: add a data_check() on the DataManager for additional checks.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.data_check_outputs">
<span class="sig-name descname"><span class="pre">data_check_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'data_check'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bulk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.data_check_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.data_check_outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Use SQLite to validate data. Read data back and do a dm.prepare_data_frames.
Does a deepcopy of the inputs to ensure the DB operations do not alter the inputs.
Bulk can be set to True once the basic data issues have been resolved and performance needs to be improved.
Set bulk to False to get more granular DB insert errors, i.e. per record.
TODO: add a data_check() on the DataManager for additional checks.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.generate_scenario">
<span class="sig-name descname"><span class="pre">generate_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.ScenarioConfig" title="dse_do_utils.scenariorunner.ScenarioConfig"><span class="pre">dse_do_utils.scenariorunner.ScenarioConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.generate_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.generate_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a derived scenario from a baseline scenario on the
specifications in the scenario_config.
:param base_inputs:
:param scenario_config:
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.insert_in_do">
<span class="sig-name descname"><span class="pre">insert_in_do</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.ScenarioConfig" title="dse_do_utils.scenariorunner.ScenarioConfig"><span class="pre">dse_do_utils.scenariorunner.ScenarioConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.RunConfig" title="dse_do_utils.scenariorunner.RunConfig"><span class="pre">dse_do_utils.scenariorunner.RunConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.insert_in_do"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.insert_in_do" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.insert_inputs_in_db">
<span class="sig-name descname"><span class="pre">insert_inputs_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.RunConfig" title="dse_do_utils.scenariorunner.RunConfig"><span class="pre">dse_do_utils.scenariorunner.RunConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.insert_inputs_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.insert_inputs_in_db" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.insert_outputs_in_db">
<span class="sig-name descname"><span class="pre">insert_outputs_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.RunConfig" title="dse_do_utils.scenariorunner.RunConfig"><span class="pre">dse_do_utils.scenariorunner.RunConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.insert_outputs_in_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.insert_outputs_in_db" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.load_input_data_from_excel">
<span class="sig-name descname"><span class="pre">load_input_data_from_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">excel_file_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.load_input_data_from_excel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.load_input_data_from_excel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.run_model">
<span class="sig-name descname"><span class="pre">run_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.RunConfig" title="dse_do_utils.scenariorunner.RunConfig"><span class="pre">dse_do_utils.scenariorunner.RunConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.run_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.run_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Main method to run the optimization model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.run_multiple">
<span class="sig-name descname"><span class="pre">run_multiple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_configs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dse_do_utils.scenariorunner.ScenarioConfig" title="dse_do_utils.scenariorunner.ScenarioConfig"><span class="pre">dse_do_utils.scenariorunner.ScenarioConfig</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.RunConfig" title="dse_do_utils.scenariorunner.RunConfig"><span class="pre">dse_do_utils.scenariorunner.RunConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excel_file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.run_multiple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.run_multiple" title="Permalink to this definition">¶</a></dt>
<dd><p>Only once create schema and/or load data from Excel.
Then it will run all scenario_configs, each time applying the ScenarioGenerator on the base inputs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.run_once">
<span class="sig-name descname"><span class="pre">run_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.ScenarioConfig" title="dse_do_utils.scenariorunner.ScenarioConfig"><span class="pre">dse_do_utils.scenariorunner.ScenarioConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#dse_do_utils.scenariorunner.RunConfig" title="dse_do_utils.scenariorunner.RunConfig"><span class="pre">dse_do_utils.scenariorunner.RunConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excel_file_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.run_once"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.run_once" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dse_do_utils.scenariorunner.ScenarioRunner.write_output_data_to_excel">
<span class="sig-name descname"><span class="pre">write_output_data_to_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/scenariorunner.html#ScenarioRunner.write_output_data_to_excel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.scenariorunner.ScenarioRunner.write_output_data_to_excel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.utilities">
<span id="dse-do-utils-utilities-module"></span><h2>dse_do_utils.utilities module<a class="headerlink" href="#module-dse_do_utils.utilities" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dse_do_utils.utilities.add_sys_path">
<span class="sig-prename descclassname"><span class="pre">dse_do_utils.utilities.</span></span><span class="sig-name descname"><span class="pre">add_sys_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/utilities.html#add_sys_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.utilities.add_sys_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a directory to Python’s sys.path</p>
<p>Does not add the directory if it does not exist or if it’s already on
sys.path. Returns 1 if OK, -1 if new_path does not exist, 0 if it was
already on sys.path.
Based on: <a class="reference external" href="https://www.oreilly.com/library/view/python-cookbook/0596001673/ch04s23.html">https://www.oreilly.com/library/view/python-cookbook/0596001673/ch04s23.html</a></p>
<p>Challenge: in order to use this function, we need to import the dse_do_utils package
and thus we need to add it’s location it to sys.path!
This will work better once we can do a pip install dse-do_utils.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dse_do_utils.utilities.convert_size">
<span class="sig-prename descclassname"><span class="pre">dse_do_utils.utilities.</span></span><span class="sig-name descname"><span class="pre">convert_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size_bytes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils/utilities.html#convert_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.utilities.convert_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns string describing file size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size_bytes</strong> (<em>int</em>) – size if file in bytes</p>
</dd>
</dl>
<p>From <a class="reference external" href="https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python">https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dse_do_utils.utilities.list_file_hierarchy">
<span class="sig-prename descclassname"><span class="pre">dse_do_utils.utilities.</span></span><span class="sig-name descname"><span class="pre">list_file_hierarchy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startpath</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/dse_do_utils/utilities.html#list_file_hierarchy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.utilities.list_file_hierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>Hierarchically print the contents of the folder tree, starting with the <cite>startpath</cite>.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">current_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">parent_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">))</span>
<span class="n">parent_dir_2</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parent_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">))</span>
<span class="n">list_file_hierarchy</span><span class="p">(</span><span class="n">parent_dir_2</span><span class="p">)</span> <span class="c1">#List tree starting at the grand-parent of the current directory</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>startpath</strong> (<em>str</em>) – Root of the tree</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dse_do_utils.version">
<span id="dse-do-utils-version-module"></span><h2>dse_do_utils.version module<a class="headerlink" href="#module-dse_do_utils.version" title="Permalink to this headline">¶</a></h2>
<p>Source of truth for the dse_do_utils version.
The versions in <cite>setup.py</cite> and <cite>/docs/source/conf.py</cite> are automatically populated from here.</p>
<p>Best practice to keep version here, in a separate file.
See <a class="reference external" href="https://stackoverflow.com/questions/458550/standard-way-to-embed-version-into-python-package">https://stackoverflow.com/questions/458550/standard-way-to-embed-version-into-python-package</a></p>
</div>
<div class="section" id="module-dse_do_utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-dse_do_utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dse_do_utils.module_reload">
<span class="sig-prename descclassname"><span class="pre">dse_do_utils.</span></span><span class="sig-name descname"><span class="pre">module_reload</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dse_do_utils.html#module_reload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dse_do_utils.module_reload" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED. Requires updates to Python 3.6
Reloads all component modules. Use when you want to force a reload of this module with imp.reload().</p>
<p>This avoids having to code somewhat complex reloading logic in the notebook that is using this module.</p>
<p>Challenge with imp.reload of dse-do_utils. The following is NOT (!) sufficient:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">imp</span>
<span class="kn">import</span> <span class="nn">dse_do_utils</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="p">)</span>
</pre></div>
</div>
<p>The package dse_do_utils internally contains a number of sub modules that each contain a part of the code.
This keeps development easier and more organized. But to make importing easier, the classes are exposed
in the top level <cite>init.py</cite>, which allows for a simple import statement like from dse_do_utils import ScenarioManager.
Unfortunately, reloading the top-level module dse_do_utils doesn’t force a reload of the internal modules.</p>
<p>In case of subclassing, reloading needs to be done in the right order, i.e. first the parent classes.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">imp</span>
<span class="kn">import</span> <span class="nn">dse_do_utils</span>  <span class="c1"># You have to do the import, otherwise not possible to do the next 2 steps</span>
<span class="n">dse_do_utils</span><span class="o">.</span><span class="n">module_reload</span><span class="p">()</span>  <span class="c1">#This function</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="p">)</span>  <span class="c1"># Necessary to ensure all following expressions `from dse_do_utils import class` are using the updated classes</span>
<span class="kn">from</span> <span class="nn">dse_do_utils</span> <span class="kn">import</span> <span class="n">DataManager</span><span class="p">,</span> <span class="n">OptimizationEngine</span><span class="p">,</span> <span class="n">ScenarioManager</span><span class="p">,</span> <span class="n">ScenarioPicker</span><span class="p">,</span> <span class="n">DeployedDOModel</span><span class="p">,</span> <span class="n">MapManager</span>  <span class="c1"># This needs to be done AFTER the reload to refresh the definitions</span>
</pre></div>
</div>
<p>Note that this function assumes that the set of classes and component modules is not part of the update.
If it is, you may need to add another reload:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">imp</span>
<span class="kn">import</span> <span class="nn">dse_do_utils</span>  <span class="c1"># You have to do the import, otherwise not possible to do the next 2 steps</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="p">)</span>  <span class="c1"># To reload this function</span>
<span class="n">dse_do_utils</span><span class="o">.</span><span class="n">module_reload</span><span class="p">()</span>  <span class="c1">#This function</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="p">)</span>  <span class="c1"># Necessary to ensure all future expressions `from dse_do_utils import class` are using the updated classes</span>
<span class="kn">from</span> <span class="nn">dse_do_utils</span> <span class="kn">import</span> <span class="n">DataManager</span><span class="p">,</span> <span class="n">OptimizationEngine</span><span class="p">,</span> <span class="n">ScenarioManager</span><span class="p">,</span> <span class="n">ScenarioPicker</span><span class="p">,</span> <span class="n">DeployedDOModel</span><span class="p">,</span> <span class="n">MapManager</span>  <span class="c1"># This needs to be done AFTER the reload to refresh the definitions</span>
</pre></div>
</div>
<p>If not using this function, in the notebook you would need to do the following (or the relevant parts of it):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">imp</span>
<span class="kn">import</span> <span class="nn">dse_do_utils</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="o">.</span><span class="n">datamanager</span><span class="p">)</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="o">.</span><span class="n">optimizationengine</span><span class="p">)</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="o">.</span><span class="n">scenariomanager</span><span class="p">)</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="o">.</span><span class="n">scenariopicker</span><span class="p">)</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="o">.</span><span class="n">deployeddomodel</span><span class="p">)</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="o">.</span><span class="n">mapmanager</span><span class="p">)</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">dse_do_utils</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">dse_do_utils</span> <span class="kn">import</span> <span class="n">DataManager</span><span class="p">,</span> <span class="n">OptimizationEngine</span><span class="p">,</span> <span class="n">ScenarioManager</span><span class="p">,</span> <span class="n">ScenarioPicker</span><span class="p">,</span> <span class="n">DeployedDOModel</span><span class="p">,</span> <span class="n">MapManager</span>
</pre></div>
</div>
<p>Returns:</p>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">dse_do_utils package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.cpd25utilities">dse_do_utils.cpd25utilities module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.datamanager">dse_do_utils.datamanager module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.deployeddomodel">dse_do_utils.deployeddomodel module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.deployeddomodelcpd21">dse_do_utils.deployeddomodelcpd21 module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.domodeldeployer">dse_do_utils.domodeldeployer module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.domodelexporter">dse_do_utils.domodelexporter module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.mapmanager">dse_do_utils.mapmanager module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.multiscenariomanager">dse_do_utils.multiscenariomanager module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.optimizationengine">dse_do_utils.optimizationengine module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.plotly_cpd_workaround">dse_do_utils.plotly_cpd_workaround module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.plotlymanager">dse_do_utils.plotlymanager module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.scenariodbmanager">dse_do_utils.scenariodbmanager module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.scenariomanager">dse_do_utils.scenariomanager module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.scenariopicker">dse_do_utils.scenariopicker module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.scenariorunner">dse_do_utils.scenariorunner module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.utilities">dse_do_utils.utilities module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils.version">dse_do_utils.version module</a></li>
<li><a class="reference internal" href="#module-dse_do_utils">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="modules.html"
                        title="previous chapter">dse_do_utils</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/dse_do_utils.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="dse_do_utils"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DSE DO Utils 0.5.4.5b2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >dse_do_utils</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">dse_do_utils package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Victor Terpstra.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.1.1.
    </div>
  </body>
</html>